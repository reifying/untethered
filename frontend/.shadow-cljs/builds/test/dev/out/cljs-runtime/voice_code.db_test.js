goog.provide('voice_code.db_test');
voice_code.db_test.default_db_structure = (function voice_code$db_test$default_db_structure(){
return cljs.test.test_var(voice_code.db_test.default_db_structure.cljs$lang$var);
});
voice_code.db_test.default_db_structure.cljs$lang$test = (function (){
cljs.test.update_current_env_BANG_.cljs$core$IFn$_invoke$arity$variadic(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"testing-contexts","testing-contexts",-1485646523)], null),cljs.core.conj,cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2(["default-db has required top-level keys"], 0));

try{try{var values__10011__auto___10854 = (new cljs.core.List(null,voice_code.db.default_db,(new cljs.core.List(null,new cljs.core.Keyword(null,"connection","connection",-123599300),null,(1),null)),(2),null));
var result__10012__auto___10855 = cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.contains_QMARK_,values__10011__auto___10854);
if(cljs.core.truth_(result__10012__auto___10855)){
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",46,new cljs.core.Keyword(null,"pass","pass",1574159993),9,8,cljs.core.list(new cljs.core.Symbol(null,"contains?","contains?",-1676812576,null),new cljs.core.Symbol("db","default-db","db/default-db",-1149096552,null),new cljs.core.Keyword(null,"connection","connection",-123599300)),8,cljs.core.cons(new cljs.core.Symbol(null,"contains?","contains?",-1676812576,null),values__10011__auto___10854),null]));
} else {
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",46,new cljs.core.Keyword(null,"fail","fail",1706214930),9,8,cljs.core.list(new cljs.core.Symbol(null,"contains?","contains?",-1676812576,null),new cljs.core.Symbol("db","default-db","db/default-db",-1149096552,null),new cljs.core.Keyword(null,"connection","connection",-123599300)),8,(new cljs.core.List(null,new cljs.core.Symbol(null,"not","not",1044554643,null),(new cljs.core.List(null,cljs.core.cons(new cljs.core.Symbol(null,"contains?","contains?",-1676812576,null),values__10011__auto___10854),null,(1),null)),(2),null)),null]));
}

}catch (e10593){var t__10048__auto___10856 = e10593;
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",46,new cljs.core.Keyword(null,"error","error",-978969032),9,8,cljs.core.list(new cljs.core.Symbol(null,"contains?","contains?",-1676812576,null),new cljs.core.Symbol("db","default-db","db/default-db",-1149096552,null),new cljs.core.Keyword(null,"connection","connection",-123599300)),8,t__10048__auto___10856,null]));
}
try{var values__10011__auto___10859 = (new cljs.core.List(null,voice_code.db.default_db,(new cljs.core.List(null,new cljs.core.Keyword(null,"sessions","sessions",-699316392),null,(1),null)),(2),null));
var result__10012__auto___10860 = cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.contains_QMARK_,values__10011__auto___10859);
if(cljs.core.truth_(result__10012__auto___10860)){
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",44,new cljs.core.Keyword(null,"pass","pass",1574159993),9,9,cljs.core.list(new cljs.core.Symbol(null,"contains?","contains?",-1676812576,null),new cljs.core.Symbol("db","default-db","db/default-db",-1149096552,null),new cljs.core.Keyword(null,"sessions","sessions",-699316392)),9,cljs.core.cons(new cljs.core.Symbol(null,"contains?","contains?",-1676812576,null),values__10011__auto___10859),null]));
} else {
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",44,new cljs.core.Keyword(null,"fail","fail",1706214930),9,9,cljs.core.list(new cljs.core.Symbol(null,"contains?","contains?",-1676812576,null),new cljs.core.Symbol("db","default-db","db/default-db",-1149096552,null),new cljs.core.Keyword(null,"sessions","sessions",-699316392)),9,(new cljs.core.List(null,new cljs.core.Symbol(null,"not","not",1044554643,null),(new cljs.core.List(null,cljs.core.cons(new cljs.core.Symbol(null,"contains?","contains?",-1676812576,null),values__10011__auto___10859),null,(1),null)),(2),null)),null]));
}

}catch (e10615){var t__10048__auto___10865 = e10615;
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",44,new cljs.core.Keyword(null,"error","error",-978969032),9,9,cljs.core.list(new cljs.core.Symbol(null,"contains?","contains?",-1676812576,null),new cljs.core.Symbol("db","default-db","db/default-db",-1149096552,null),new cljs.core.Keyword(null,"sessions","sessions",-699316392)),9,t__10048__auto___10865,null]));
}
try{var values__10011__auto___10869 = (new cljs.core.List(null,voice_code.db.default_db,(new cljs.core.List(null,new cljs.core.Keyword(null,"messages","messages",345434482),null,(1),null)),(2),null));
var result__10012__auto___10870 = cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.contains_QMARK_,values__10011__auto___10869);
if(cljs.core.truth_(result__10012__auto___10870)){
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",44,new cljs.core.Keyword(null,"pass","pass",1574159993),9,10,cljs.core.list(new cljs.core.Symbol(null,"contains?","contains?",-1676812576,null),new cljs.core.Symbol("db","default-db","db/default-db",-1149096552,null),new cljs.core.Keyword(null,"messages","messages",345434482)),10,cljs.core.cons(new cljs.core.Symbol(null,"contains?","contains?",-1676812576,null),values__10011__auto___10869),null]));
} else {
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",44,new cljs.core.Keyword(null,"fail","fail",1706214930),9,10,cljs.core.list(new cljs.core.Symbol(null,"contains?","contains?",-1676812576,null),new cljs.core.Symbol("db","default-db","db/default-db",-1149096552,null),new cljs.core.Keyword(null,"messages","messages",345434482)),10,(new cljs.core.List(null,new cljs.core.Symbol(null,"not","not",1044554643,null),(new cljs.core.List(null,cljs.core.cons(new cljs.core.Symbol(null,"contains?","contains?",-1676812576,null),values__10011__auto___10869),null,(1),null)),(2),null)),null]));
}

}catch (e10618){var t__10048__auto___10892 = e10618;
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",44,new cljs.core.Keyword(null,"error","error",-978969032),9,10,cljs.core.list(new cljs.core.Symbol(null,"contains?","contains?",-1676812576,null),new cljs.core.Symbol("db","default-db","db/default-db",-1149096552,null),new cljs.core.Keyword(null,"messages","messages",345434482)),10,t__10048__auto___10892,null]));
}
try{var values__10011__auto___10896 = (new cljs.core.List(null,voice_code.db.default_db,(new cljs.core.List(null,new cljs.core.Keyword(null,"active-session-id","active-session-id",943086451),null,(1),null)),(2),null));
var result__10012__auto___10897 = cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.contains_QMARK_,values__10011__auto___10896);
if(cljs.core.truth_(result__10012__auto___10897)){
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",53,new cljs.core.Keyword(null,"pass","pass",1574159993),9,11,cljs.core.list(new cljs.core.Symbol(null,"contains?","contains?",-1676812576,null),new cljs.core.Symbol("db","default-db","db/default-db",-1149096552,null),new cljs.core.Keyword(null,"active-session-id","active-session-id",943086451)),11,cljs.core.cons(new cljs.core.Symbol(null,"contains?","contains?",-1676812576,null),values__10011__auto___10896),null]));
} else {
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",53,new cljs.core.Keyword(null,"fail","fail",1706214930),9,11,cljs.core.list(new cljs.core.Symbol(null,"contains?","contains?",-1676812576,null),new cljs.core.Symbol("db","default-db","db/default-db",-1149096552,null),new cljs.core.Keyword(null,"active-session-id","active-session-id",943086451)),11,(new cljs.core.List(null,new cljs.core.Symbol(null,"not","not",1044554643,null),(new cljs.core.List(null,cljs.core.cons(new cljs.core.Symbol(null,"contains?","contains?",-1676812576,null),values__10011__auto___10896),null,(1),null)),(2),null)),null]));
}

}catch (e10619){var t__10048__auto___10905 = e10619;
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",53,new cljs.core.Keyword(null,"error","error",-978969032),9,11,cljs.core.list(new cljs.core.Symbol(null,"contains?","contains?",-1676812576,null),new cljs.core.Symbol("db","default-db","db/default-db",-1149096552,null),new cljs.core.Keyword(null,"active-session-id","active-session-id",943086451)),11,t__10048__auto___10905,null]));
}
try{var values__10011__auto___10908 = (new cljs.core.List(null,voice_code.db.default_db,(new cljs.core.List(null,new cljs.core.Keyword(null,"locked-sessions","locked-sessions",-1354550880),null,(1),null)),(2),null));
var result__10012__auto___10909 = cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.contains_QMARK_,values__10011__auto___10908);
if(cljs.core.truth_(result__10012__auto___10909)){
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",51,new cljs.core.Keyword(null,"pass","pass",1574159993),9,12,cljs.core.list(new cljs.core.Symbol(null,"contains?","contains?",-1676812576,null),new cljs.core.Symbol("db","default-db","db/default-db",-1149096552,null),new cljs.core.Keyword(null,"locked-sessions","locked-sessions",-1354550880)),12,cljs.core.cons(new cljs.core.Symbol(null,"contains?","contains?",-1676812576,null),values__10011__auto___10908),null]));
} else {
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",51,new cljs.core.Keyword(null,"fail","fail",1706214930),9,12,cljs.core.list(new cljs.core.Symbol(null,"contains?","contains?",-1676812576,null),new cljs.core.Symbol("db","default-db","db/default-db",-1149096552,null),new cljs.core.Keyword(null,"locked-sessions","locked-sessions",-1354550880)),12,(new cljs.core.List(null,new cljs.core.Symbol(null,"not","not",1044554643,null),(new cljs.core.List(null,cljs.core.cons(new cljs.core.Symbol(null,"contains?","contains?",-1676812576,null),values__10011__auto___10908),null,(1),null)),(2),null)),null]));
}

}catch (e10626){var t__10048__auto___10916 = e10626;
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",51,new cljs.core.Keyword(null,"error","error",-978969032),9,12,cljs.core.list(new cljs.core.Symbol(null,"contains?","contains?",-1676812576,null),new cljs.core.Symbol("db","default-db","db/default-db",-1149096552,null),new cljs.core.Keyword(null,"locked-sessions","locked-sessions",-1354550880)),12,t__10048__auto___10916,null]));
}
try{var values__10011__auto___10919 = (new cljs.core.List(null,voice_code.db.default_db,(new cljs.core.List(null,new cljs.core.Keyword(null,"commands","commands",161008658),null,(1),null)),(2),null));
var result__10012__auto___10920 = cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.contains_QMARK_,values__10011__auto___10919);
if(cljs.core.truth_(result__10012__auto___10920)){
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",44,new cljs.core.Keyword(null,"pass","pass",1574159993),9,13,cljs.core.list(new cljs.core.Symbol(null,"contains?","contains?",-1676812576,null),new cljs.core.Symbol("db","default-db","db/default-db",-1149096552,null),new cljs.core.Keyword(null,"commands","commands",161008658)),13,cljs.core.cons(new cljs.core.Symbol(null,"contains?","contains?",-1676812576,null),values__10011__auto___10919),null]));
} else {
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",44,new cljs.core.Keyword(null,"fail","fail",1706214930),9,13,cljs.core.list(new cljs.core.Symbol(null,"contains?","contains?",-1676812576,null),new cljs.core.Symbol("db","default-db","db/default-db",-1149096552,null),new cljs.core.Keyword(null,"commands","commands",161008658)),13,(new cljs.core.List(null,new cljs.core.Symbol(null,"not","not",1044554643,null),(new cljs.core.List(null,cljs.core.cons(new cljs.core.Symbol(null,"contains?","contains?",-1676812576,null),values__10011__auto___10919),null,(1),null)),(2),null)),null]));
}

}catch (e10631){var t__10048__auto___10924 = e10631;
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",44,new cljs.core.Keyword(null,"error","error",-978969032),9,13,cljs.core.list(new cljs.core.Symbol(null,"contains?","contains?",-1676812576,null),new cljs.core.Symbol("db","default-db","db/default-db",-1149096552,null),new cljs.core.Keyword(null,"commands","commands",161008658)),13,t__10048__auto___10924,null]));
}
try{var values__10011__auto___10925 = (new cljs.core.List(null,voice_code.db.default_db,(new cljs.core.List(null,new cljs.core.Keyword(null,"resources","resources",1632806811),null,(1),null)),(2),null));
var result__10012__auto___10928 = cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.contains_QMARK_,values__10011__auto___10925);
if(cljs.core.truth_(result__10012__auto___10928)){
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",45,new cljs.core.Keyword(null,"pass","pass",1574159993),9,14,cljs.core.list(new cljs.core.Symbol(null,"contains?","contains?",-1676812576,null),new cljs.core.Symbol("db","default-db","db/default-db",-1149096552,null),new cljs.core.Keyword(null,"resources","resources",1632806811)),14,cljs.core.cons(new cljs.core.Symbol(null,"contains?","contains?",-1676812576,null),values__10011__auto___10925),null]));
} else {
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",45,new cljs.core.Keyword(null,"fail","fail",1706214930),9,14,cljs.core.list(new cljs.core.Symbol(null,"contains?","contains?",-1676812576,null),new cljs.core.Symbol("db","default-db","db/default-db",-1149096552,null),new cljs.core.Keyword(null,"resources","resources",1632806811)),14,(new cljs.core.List(null,new cljs.core.Symbol(null,"not","not",1044554643,null),(new cljs.core.List(null,cljs.core.cons(new cljs.core.Symbol(null,"contains?","contains?",-1676812576,null),values__10011__auto___10925),null,(1),null)),(2),null)),null]));
}

}catch (e10635){var t__10048__auto___10941 = e10635;
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",45,new cljs.core.Keyword(null,"error","error",-978969032),9,14,cljs.core.list(new cljs.core.Symbol(null,"contains?","contains?",-1676812576,null),new cljs.core.Symbol("db","default-db","db/default-db",-1149096552,null),new cljs.core.Keyword(null,"resources","resources",1632806811)),14,t__10048__auto___10941,null]));
}
try{var values__10011__auto___10942 = (new cljs.core.List(null,voice_code.db.default_db,(new cljs.core.List(null,new cljs.core.Keyword(null,"recipes","recipes",-325236209),null,(1),null)),(2),null));
var result__10012__auto___10943 = cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.contains_QMARK_,values__10011__auto___10942);
if(cljs.core.truth_(result__10012__auto___10943)){
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",43,new cljs.core.Keyword(null,"pass","pass",1574159993),9,15,cljs.core.list(new cljs.core.Symbol(null,"contains?","contains?",-1676812576,null),new cljs.core.Symbol("db","default-db","db/default-db",-1149096552,null),new cljs.core.Keyword(null,"recipes","recipes",-325236209)),15,cljs.core.cons(new cljs.core.Symbol(null,"contains?","contains?",-1676812576,null),values__10011__auto___10942),null]));
} else {
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",43,new cljs.core.Keyword(null,"fail","fail",1706214930),9,15,cljs.core.list(new cljs.core.Symbol(null,"contains?","contains?",-1676812576,null),new cljs.core.Symbol("db","default-db","db/default-db",-1149096552,null),new cljs.core.Keyword(null,"recipes","recipes",-325236209)),15,(new cljs.core.List(null,new cljs.core.Symbol(null,"not","not",1044554643,null),(new cljs.core.List(null,cljs.core.cons(new cljs.core.Symbol(null,"contains?","contains?",-1676812576,null),values__10011__auto___10942),null,(1),null)),(2),null)),null]));
}

}catch (e10670){var t__10048__auto___10944 = e10670;
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",43,new cljs.core.Keyword(null,"error","error",-978969032),9,15,cljs.core.list(new cljs.core.Symbol(null,"contains?","contains?",-1676812576,null),new cljs.core.Symbol("db","default-db","db/default-db",-1149096552,null),new cljs.core.Keyword(null,"recipes","recipes",-325236209)),15,t__10048__auto___10944,null]));
}
try{var values__10011__auto___10949 = (new cljs.core.List(null,voice_code.db.default_db,(new cljs.core.List(null,new cljs.core.Keyword(null,"settings","settings",1556144875),null,(1),null)),(2),null));
var result__10012__auto___10950 = cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.contains_QMARK_,values__10011__auto___10949);
if(cljs.core.truth_(result__10012__auto___10950)){
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",44,new cljs.core.Keyword(null,"pass","pass",1574159993),9,16,cljs.core.list(new cljs.core.Symbol(null,"contains?","contains?",-1676812576,null),new cljs.core.Symbol("db","default-db","db/default-db",-1149096552,null),new cljs.core.Keyword(null,"settings","settings",1556144875)),16,cljs.core.cons(new cljs.core.Symbol(null,"contains?","contains?",-1676812576,null),values__10011__auto___10949),null]));
} else {
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",44,new cljs.core.Keyword(null,"fail","fail",1706214930),9,16,cljs.core.list(new cljs.core.Symbol(null,"contains?","contains?",-1676812576,null),new cljs.core.Symbol("db","default-db","db/default-db",-1149096552,null),new cljs.core.Keyword(null,"settings","settings",1556144875)),16,(new cljs.core.List(null,new cljs.core.Symbol(null,"not","not",1044554643,null),(new cljs.core.List(null,cljs.core.cons(new cljs.core.Symbol(null,"contains?","contains?",-1676812576,null),values__10011__auto___10949),null,(1),null)),(2),null)),null]));
}

}catch (e10674){var t__10048__auto___10962 = e10674;
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",44,new cljs.core.Keyword(null,"error","error",-978969032),9,16,cljs.core.list(new cljs.core.Symbol(null,"contains?","contains?",-1676812576,null),new cljs.core.Symbol("db","default-db","db/default-db",-1149096552,null),new cljs.core.Keyword(null,"settings","settings",1556144875)),16,t__10048__auto___10962,null]));
}
try{var values__10011__auto___10963 = (new cljs.core.List(null,voice_code.db.default_db,(new cljs.core.List(null,new cljs.core.Keyword(null,"ui","ui",-469653645),null,(1),null)),(2),null));
var result__10012__auto___10964 = cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.contains_QMARK_,values__10011__auto___10963);
if(cljs.core.truth_(result__10012__auto___10964)){
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",38,new cljs.core.Keyword(null,"pass","pass",1574159993),9,17,cljs.core.list(new cljs.core.Symbol(null,"contains?","contains?",-1676812576,null),new cljs.core.Symbol("db","default-db","db/default-db",-1149096552,null),new cljs.core.Keyword(null,"ui","ui",-469653645)),17,cljs.core.cons(new cljs.core.Symbol(null,"contains?","contains?",-1676812576,null),values__10011__auto___10963),null]));
} else {
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",38,new cljs.core.Keyword(null,"fail","fail",1706214930),9,17,cljs.core.list(new cljs.core.Symbol(null,"contains?","contains?",-1676812576,null),new cljs.core.Symbol("db","default-db","db/default-db",-1149096552,null),new cljs.core.Keyword(null,"ui","ui",-469653645)),17,(new cljs.core.List(null,new cljs.core.Symbol(null,"not","not",1044554643,null),(new cljs.core.List(null,cljs.core.cons(new cljs.core.Symbol(null,"contains?","contains?",-1676812576,null),values__10011__auto___10963),null,(1),null)),(2),null)),null]));
}

}catch (e10677){var t__10048__auto___10972 = e10677;
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",38,new cljs.core.Keyword(null,"error","error",-978969032),9,17,cljs.core.list(new cljs.core.Symbol(null,"contains?","contains?",-1676812576,null),new cljs.core.Symbol("db","default-db","db/default-db",-1149096552,null),new cljs.core.Keyword(null,"ui","ui",-469653645)),17,t__10048__auto___10972,null]));
}}finally {cljs.test.update_current_env_BANG_(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"testing-contexts","testing-contexts",-1485646523)], null),cljs.core.rest);
}
cljs.test.update_current_env_BANG_.cljs$core$IFn$_invoke$arity$variadic(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"testing-contexts","testing-contexts",-1485646523)], null),cljs.core.conj,cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2(["connection starts disconnected"], 0));

try{try{var values__10011__auto___10973 = (new cljs.core.List(null,new cljs.core.Keyword(null,"disconnected","disconnected",-1908014586),(new cljs.core.List(null,cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(voice_code.db.default_db,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"connection","connection",-123599300),new cljs.core.Keyword(null,"status","status",-1997798413)], null)),null,(1),null)),(2),null));
var result__10012__auto___10974 = cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core._EQ_,values__10011__auto___10973);
if(cljs.core.truth_(result__10012__auto___10974)){
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",71,new cljs.core.Keyword(null,"pass","pass",1574159993),9,20,cljs.core.list(new cljs.core.Symbol(null,"=","=",-1501502141,null),new cljs.core.Keyword(null,"disconnected","disconnected",-1908014586),cljs.core.list(new cljs.core.Symbol(null,"get-in","get-in",-1965644065,null),new cljs.core.Symbol("db","default-db","db/default-db",-1149096552,null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"connection","connection",-123599300),new cljs.core.Keyword(null,"status","status",-1997798413)], null))),20,cljs.core.cons(new cljs.core.Symbol(null,"=","=",-1501502141,null),values__10011__auto___10973),null]));
} else {
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",71,new cljs.core.Keyword(null,"fail","fail",1706214930),9,20,cljs.core.list(new cljs.core.Symbol(null,"=","=",-1501502141,null),new cljs.core.Keyword(null,"disconnected","disconnected",-1908014586),cljs.core.list(new cljs.core.Symbol(null,"get-in","get-in",-1965644065,null),new cljs.core.Symbol("db","default-db","db/default-db",-1149096552,null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"connection","connection",-123599300),new cljs.core.Keyword(null,"status","status",-1997798413)], null))),20,(new cljs.core.List(null,new cljs.core.Symbol(null,"not","not",1044554643,null),(new cljs.core.List(null,cljs.core.cons(new cljs.core.Symbol(null,"=","=",-1501502141,null),values__10011__auto___10973),null,(1),null)),(2),null)),null]));
}

}catch (e10684){var t__10048__auto___10978 = e10684;
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",71,new cljs.core.Keyword(null,"error","error",-978969032),9,20,cljs.core.list(new cljs.core.Symbol(null,"=","=",-1501502141,null),new cljs.core.Keyword(null,"disconnected","disconnected",-1908014586),cljs.core.list(new cljs.core.Symbol(null,"get-in","get-in",-1965644065,null),new cljs.core.Symbol("db","default-db","db/default-db",-1149096552,null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"connection","connection",-123599300),new cljs.core.Keyword(null,"status","status",-1997798413)], null))),20,t__10048__auto___10978,null]));
}
try{var values__10011__auto___10981 = (new cljs.core.List(null,cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(voice_code.db.default_db,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"connection","connection",-123599300),new cljs.core.Keyword(null,"authenticated?","authenticated?",-1988130123)], null)),null,(1),null));
var result__10012__auto___10982 = cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.false_QMARK_,values__10011__auto___10981);
if(cljs.core.truth_(result__10012__auto___10982)){
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",70,new cljs.core.Keyword(null,"pass","pass",1574159993),9,21,cljs.core.list(new cljs.core.Symbol(null,"false?","false?",-1522377573,null),cljs.core.list(new cljs.core.Symbol(null,"get-in","get-in",-1965644065,null),new cljs.core.Symbol("db","default-db","db/default-db",-1149096552,null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"connection","connection",-123599300),new cljs.core.Keyword(null,"authenticated?","authenticated?",-1988130123)], null))),21,cljs.core.cons(new cljs.core.Symbol(null,"false?","false?",-1522377573,null),values__10011__auto___10981),null]));
} else {
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",70,new cljs.core.Keyword(null,"fail","fail",1706214930),9,21,cljs.core.list(new cljs.core.Symbol(null,"false?","false?",-1522377573,null),cljs.core.list(new cljs.core.Symbol(null,"get-in","get-in",-1965644065,null),new cljs.core.Symbol("db","default-db","db/default-db",-1149096552,null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"connection","connection",-123599300),new cljs.core.Keyword(null,"authenticated?","authenticated?",-1988130123)], null))),21,(new cljs.core.List(null,new cljs.core.Symbol(null,"not","not",1044554643,null),(new cljs.core.List(null,cljs.core.cons(new cljs.core.Symbol(null,"false?","false?",-1522377573,null),values__10011__auto___10981),null,(1),null)),(2),null)),null]));
}

}catch (e10692){var t__10048__auto___10983 = e10692;
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",70,new cljs.core.Keyword(null,"error","error",-978969032),9,21,cljs.core.list(new cljs.core.Symbol(null,"false?","false?",-1522377573,null),cljs.core.list(new cljs.core.Symbol(null,"get-in","get-in",-1965644065,null),new cljs.core.Symbol("db","default-db","db/default-db",-1149096552,null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"connection","connection",-123599300),new cljs.core.Keyword(null,"authenticated?","authenticated?",-1988130123)], null))),21,t__10048__auto___10983,null]));
}}finally {cljs.test.update_current_env_BANG_(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"testing-contexts","testing-contexts",-1485646523)], null),cljs.core.rest);
}
cljs.test.update_current_env_BANG_.cljs$core$IFn$_invoke$arity$variadic(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"testing-contexts","testing-contexts",-1485646523)], null),cljs.core.conj,cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2(["sessions and messages start empty"], 0));

try{try{var values__10011__auto___10988 = (new cljs.core.List(null,cljs.core.PersistentArrayMap.EMPTY,(new cljs.core.List(null,new cljs.core.Keyword(null,"sessions","sessions",-699316392).cljs$core$IFn$_invoke$arity$1(voice_code.db.default_db),null,(1),null)),(2),null));
var result__10012__auto___10989 = cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core._EQ_,values__10011__auto___10988);
if(cljs.core.truth_(result__10012__auto___10989)){
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",41,new cljs.core.Keyword(null,"pass","pass",1574159993),9,24,cljs.core.list(new cljs.core.Symbol(null,"=","=",-1501502141,null),cljs.core.PersistentArrayMap.EMPTY,cljs.core.list(new cljs.core.Keyword(null,"sessions","sessions",-699316392),new cljs.core.Symbol("db","default-db","db/default-db",-1149096552,null))),24,cljs.core.cons(new cljs.core.Symbol(null,"=","=",-1501502141,null),values__10011__auto___10988),null]));
} else {
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",41,new cljs.core.Keyword(null,"fail","fail",1706214930),9,24,cljs.core.list(new cljs.core.Symbol(null,"=","=",-1501502141,null),cljs.core.PersistentArrayMap.EMPTY,cljs.core.list(new cljs.core.Keyword(null,"sessions","sessions",-699316392),new cljs.core.Symbol("db","default-db","db/default-db",-1149096552,null))),24,(new cljs.core.List(null,new cljs.core.Symbol(null,"not","not",1044554643,null),(new cljs.core.List(null,cljs.core.cons(new cljs.core.Symbol(null,"=","=",-1501502141,null),values__10011__auto___10988),null,(1),null)),(2),null)),null]));
}

}catch (e10697){var t__10048__auto___11005 = e10697;
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",41,new cljs.core.Keyword(null,"error","error",-978969032),9,24,cljs.core.list(new cljs.core.Symbol(null,"=","=",-1501502141,null),cljs.core.PersistentArrayMap.EMPTY,cljs.core.list(new cljs.core.Keyword(null,"sessions","sessions",-699316392),new cljs.core.Symbol("db","default-db","db/default-db",-1149096552,null))),24,t__10048__auto___11005,null]));
}
try{var values__10011__auto___11010 = (new cljs.core.List(null,cljs.core.PersistentArrayMap.EMPTY,(new cljs.core.List(null,new cljs.core.Keyword(null,"messages","messages",345434482).cljs$core$IFn$_invoke$arity$1(voice_code.db.default_db),null,(1),null)),(2),null));
var result__10012__auto___11011 = cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core._EQ_,values__10011__auto___11010);
if(cljs.core.truth_(result__10012__auto___11011)){
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",41,new cljs.core.Keyword(null,"pass","pass",1574159993),9,25,cljs.core.list(new cljs.core.Symbol(null,"=","=",-1501502141,null),cljs.core.PersistentArrayMap.EMPTY,cljs.core.list(new cljs.core.Keyword(null,"messages","messages",345434482),new cljs.core.Symbol("db","default-db","db/default-db",-1149096552,null))),25,cljs.core.cons(new cljs.core.Symbol(null,"=","=",-1501502141,null),values__10011__auto___11010),null]));
} else {
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",41,new cljs.core.Keyword(null,"fail","fail",1706214930),9,25,cljs.core.list(new cljs.core.Symbol(null,"=","=",-1501502141,null),cljs.core.PersistentArrayMap.EMPTY,cljs.core.list(new cljs.core.Keyword(null,"messages","messages",345434482),new cljs.core.Symbol("db","default-db","db/default-db",-1149096552,null))),25,(new cljs.core.List(null,new cljs.core.Symbol(null,"not","not",1044554643,null),(new cljs.core.List(null,cljs.core.cons(new cljs.core.Symbol(null,"=","=",-1501502141,null),values__10011__auto___11010),null,(1),null)),(2),null)),null]));
}

}catch (e10701){var t__10048__auto___11013 = e10701;
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",41,new cljs.core.Keyword(null,"error","error",-978969032),9,25,cljs.core.list(new cljs.core.Symbol(null,"=","=",-1501502141,null),cljs.core.PersistentArrayMap.EMPTY,cljs.core.list(new cljs.core.Keyword(null,"messages","messages",345434482),new cljs.core.Symbol("db","default-db","db/default-db",-1149096552,null))),25,t__10048__auto___11013,null]));
}}finally {cljs.test.update_current_env_BANG_(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"testing-contexts","testing-contexts",-1485646523)], null),cljs.core.rest);
}
cljs.test.update_current_env_BANG_.cljs$core$IFn$_invoke$arity$variadic(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"testing-contexts","testing-contexts",-1485646523)], null),cljs.core.conj,cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2(["locked-sessions is an empty set"], 0));

try{try{var values__10011__auto___11021 = (new cljs.core.List(null,new cljs.core.Keyword(null,"locked-sessions","locked-sessions",-1354550880).cljs$core$IFn$_invoke$arity$1(voice_code.db.default_db),null,(1),null));
var result__10012__auto___11022 = cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.set_QMARK_,values__10011__auto___11021);
if(cljs.core.truth_(result__10012__auto___11022)){
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",48,new cljs.core.Keyword(null,"pass","pass",1574159993),9,28,cljs.core.list(new cljs.core.Symbol(null,"set?","set?",1636014792,null),cljs.core.list(new cljs.core.Keyword(null,"locked-sessions","locked-sessions",-1354550880),new cljs.core.Symbol("db","default-db","db/default-db",-1149096552,null))),28,cljs.core.cons(new cljs.core.Symbol(null,"set?","set?",1636014792,null),values__10011__auto___11021),null]));
} else {
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",48,new cljs.core.Keyword(null,"fail","fail",1706214930),9,28,cljs.core.list(new cljs.core.Symbol(null,"set?","set?",1636014792,null),cljs.core.list(new cljs.core.Keyword(null,"locked-sessions","locked-sessions",-1354550880),new cljs.core.Symbol("db","default-db","db/default-db",-1149096552,null))),28,(new cljs.core.List(null,new cljs.core.Symbol(null,"not","not",1044554643,null),(new cljs.core.List(null,cljs.core.cons(new cljs.core.Symbol(null,"set?","set?",1636014792,null),values__10011__auto___11021),null,(1),null)),(2),null)),null]));
}

}catch (e10705){var t__10048__auto___11030 = e10705;
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",48,new cljs.core.Keyword(null,"error","error",-978969032),9,28,cljs.core.list(new cljs.core.Symbol(null,"set?","set?",1636014792,null),cljs.core.list(new cljs.core.Keyword(null,"locked-sessions","locked-sessions",-1354550880),new cljs.core.Symbol("db","default-db","db/default-db",-1149096552,null))),28,t__10048__auto___11030,null]));
}
try{var values__10011__auto___11033 = (new cljs.core.List(null,new cljs.core.Keyword(null,"locked-sessions","locked-sessions",-1354550880).cljs$core$IFn$_invoke$arity$1(voice_code.db.default_db),null,(1),null));
var result__10012__auto___11034 = cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.empty_QMARK_,values__10011__auto___11033);
if(cljs.core.truth_(result__10012__auto___11034)){
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",50,new cljs.core.Keyword(null,"pass","pass",1574159993),9,29,cljs.core.list(new cljs.core.Symbol(null,"empty?","empty?",76408555,null),cljs.core.list(new cljs.core.Keyword(null,"locked-sessions","locked-sessions",-1354550880),new cljs.core.Symbol("db","default-db","db/default-db",-1149096552,null))),29,cljs.core.cons(new cljs.core.Symbol(null,"empty?","empty?",76408555,null),values__10011__auto___11033),null]));
} else {
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",50,new cljs.core.Keyword(null,"fail","fail",1706214930),9,29,cljs.core.list(new cljs.core.Symbol(null,"empty?","empty?",76408555,null),cljs.core.list(new cljs.core.Keyword(null,"locked-sessions","locked-sessions",-1354550880),new cljs.core.Symbol("db","default-db","db/default-db",-1149096552,null))),29,(new cljs.core.List(null,new cljs.core.Symbol(null,"not","not",1044554643,null),(new cljs.core.List(null,cljs.core.cons(new cljs.core.Symbol(null,"empty?","empty?",76408555,null),values__10011__auto___11033),null,(1),null)),(2),null)),null]));
}

}catch (e10707){var t__10048__auto___11037 = e10707;
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",50,new cljs.core.Keyword(null,"error","error",-978969032),9,29,cljs.core.list(new cljs.core.Symbol(null,"empty?","empty?",76408555,null),cljs.core.list(new cljs.core.Keyword(null,"locked-sessions","locked-sessions",-1354550880),new cljs.core.Symbol("db","default-db","db/default-db",-1149096552,null))),29,t__10048__auto___11037,null]));
}}finally {cljs.test.update_current_env_BANG_(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"testing-contexts","testing-contexts",-1485646523)], null),cljs.core.rest);
}
cljs.test.update_current_env_BANG_.cljs$core$IFn$_invoke$arity$variadic(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"testing-contexts","testing-contexts",-1485646523)], null),cljs.core.conj,cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2(["settings have sensible defaults"], 0));

try{var settings = new cljs.core.Keyword(null,"settings","settings",1556144875).cljs$core$IFn$_invoke$arity$1(voice_code.db.default_db);
try{var values__10011__auto___11039 = (new cljs.core.List(null,"localhost",(new cljs.core.List(null,new cljs.core.Keyword(null,"server-url","server-url",1982223374).cljs$core$IFn$_invoke$arity$1(settings),null,(1),null)),(2),null));
var result__10012__auto___11040 = cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core._EQ_,values__10011__auto___11039);
if(cljs.core.truth_(result__10012__auto___11040)){
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",49,new cljs.core.Keyword(null,"pass","pass",1574159993),11,33,cljs.core.list(new cljs.core.Symbol(null,"=","=",-1501502141,null),"localhost",cljs.core.list(new cljs.core.Keyword(null,"server-url","server-url",1982223374),new cljs.core.Symbol(null,"settings","settings",-1098290894,null))),33,cljs.core.cons(new cljs.core.Symbol(null,"=","=",-1501502141,null),values__10011__auto___11039),null]));
} else {
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",49,new cljs.core.Keyword(null,"fail","fail",1706214930),11,33,cljs.core.list(new cljs.core.Symbol(null,"=","=",-1501502141,null),"localhost",cljs.core.list(new cljs.core.Keyword(null,"server-url","server-url",1982223374),new cljs.core.Symbol(null,"settings","settings",-1098290894,null))),33,(new cljs.core.List(null,new cljs.core.Symbol(null,"not","not",1044554643,null),(new cljs.core.List(null,cljs.core.cons(new cljs.core.Symbol(null,"=","=",-1501502141,null),values__10011__auto___11039),null,(1),null)),(2),null)),null]));
}

}catch (e10712){var t__10048__auto___11044 = e10712;
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",49,new cljs.core.Keyword(null,"error","error",-978969032),11,33,cljs.core.list(new cljs.core.Symbol(null,"=","=",-1501502141,null),"localhost",cljs.core.list(new cljs.core.Keyword(null,"server-url","server-url",1982223374),new cljs.core.Symbol(null,"settings","settings",-1098290894,null))),33,t__10048__auto___11044,null]));
}
try{var values__10011__auto___11047 = (new cljs.core.List(null,(3000),(new cljs.core.List(null,new cljs.core.Keyword(null,"server-port","server-port",663745648).cljs$core$IFn$_invoke$arity$1(settings),null,(1),null)),(2),null));
var result__10012__auto___11048 = cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core._EQ_,values__10011__auto___11047);
if(cljs.core.truth_(result__10012__auto___11048)){
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",43,new cljs.core.Keyword(null,"pass","pass",1574159993),11,34,cljs.core.list(new cljs.core.Symbol(null,"=","=",-1501502141,null),(3000),cljs.core.list(new cljs.core.Keyword(null,"server-port","server-port",663745648),new cljs.core.Symbol(null,"settings","settings",-1098290894,null))),34,cljs.core.cons(new cljs.core.Symbol(null,"=","=",-1501502141,null),values__10011__auto___11047),null]));
} else {
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",43,new cljs.core.Keyword(null,"fail","fail",1706214930),11,34,cljs.core.list(new cljs.core.Symbol(null,"=","=",-1501502141,null),(3000),cljs.core.list(new cljs.core.Keyword(null,"server-port","server-port",663745648),new cljs.core.Symbol(null,"settings","settings",-1098290894,null))),34,(new cljs.core.List(null,new cljs.core.Symbol(null,"not","not",1044554643,null),(new cljs.core.List(null,cljs.core.cons(new cljs.core.Symbol(null,"=","=",-1501502141,null),values__10011__auto___11047),null,(1),null)),(2),null)),null]));
}

}catch (e10730){var t__10048__auto___11050 = e10730;
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",43,new cljs.core.Keyword(null,"error","error",-978969032),11,34,cljs.core.list(new cljs.core.Symbol(null,"=","=",-1501502141,null),(3000),cljs.core.list(new cljs.core.Keyword(null,"server-port","server-port",663745648),new cljs.core.Symbol(null,"settings","settings",-1098290894,null))),34,t__10048__auto___11050,null]));
}
try{var values__10011__auto___11052 = (new cljs.core.List(null,(10),(new cljs.core.List(null,new cljs.core.Keyword(null,"recent-sessions-limit","recent-sessions-limit",560228192).cljs$core$IFn$_invoke$arity$1(settings),null,(1),null)),(2),null));
var result__10012__auto___11053 = cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core._EQ_,values__10011__auto___11052);
if(cljs.core.truth_(result__10012__auto___11053)){
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",51,new cljs.core.Keyword(null,"pass","pass",1574159993),11,35,cljs.core.list(new cljs.core.Symbol(null,"=","=",-1501502141,null),(10),cljs.core.list(new cljs.core.Keyword(null,"recent-sessions-limit","recent-sessions-limit",560228192),new cljs.core.Symbol(null,"settings","settings",-1098290894,null))),35,cljs.core.cons(new cljs.core.Symbol(null,"=","=",-1501502141,null),values__10011__auto___11052),null]));
} else {
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",51,new cljs.core.Keyword(null,"fail","fail",1706214930),11,35,cljs.core.list(new cljs.core.Symbol(null,"=","=",-1501502141,null),(10),cljs.core.list(new cljs.core.Keyword(null,"recent-sessions-limit","recent-sessions-limit",560228192),new cljs.core.Symbol(null,"settings","settings",-1098290894,null))),35,(new cljs.core.List(null,new cljs.core.Symbol(null,"not","not",1044554643,null),(new cljs.core.List(null,cljs.core.cons(new cljs.core.Symbol(null,"=","=",-1501502141,null),values__10011__auto___11052),null,(1),null)),(2),null)),null]));
}

}catch (e10740){var t__10048__auto___11056 = e10740;
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",51,new cljs.core.Keyword(null,"error","error",-978969032),11,35,cljs.core.list(new cljs.core.Symbol(null,"=","=",-1501502141,null),(10),cljs.core.list(new cljs.core.Keyword(null,"recent-sessions-limit","recent-sessions-limit",560228192),new cljs.core.Symbol(null,"settings","settings",-1098290894,null))),35,t__10048__auto___11056,null]));
}
try{var values__10011__auto__ = (new cljs.core.List(null,(200),(new cljs.core.List(null,new cljs.core.Keyword(null,"max-message-size-kb","max-message-size-kb",524955570).cljs$core$IFn$_invoke$arity$1(settings),null,(1),null)),(2),null));
var result__10012__auto__ = cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core._EQ_,values__10011__auto__);
if(cljs.core.truth_(result__10012__auto__)){
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",50,new cljs.core.Keyword(null,"pass","pass",1574159993),11,36,cljs.core.list(new cljs.core.Symbol(null,"=","=",-1501502141,null),(200),cljs.core.list(new cljs.core.Keyword(null,"max-message-size-kb","max-message-size-kb",524955570),new cljs.core.Symbol(null,"settings","settings",-1098290894,null))),36,cljs.core.cons(new cljs.core.Symbol(null,"=","=",-1501502141,null),values__10011__auto__),null]));
} else {
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",50,new cljs.core.Keyword(null,"fail","fail",1706214930),11,36,cljs.core.list(new cljs.core.Symbol(null,"=","=",-1501502141,null),(200),cljs.core.list(new cljs.core.Keyword(null,"max-message-size-kb","max-message-size-kb",524955570),new cljs.core.Symbol(null,"settings","settings",-1098290894,null))),36,(new cljs.core.List(null,new cljs.core.Symbol(null,"not","not",1044554643,null),(new cljs.core.List(null,cljs.core.cons(new cljs.core.Symbol(null,"=","=",-1501502141,null),values__10011__auto__),null,(1),null)),(2),null)),null]));
}

return result__10012__auto__;
}catch (e10745){var t__10048__auto__ = e10745;
return cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",50,new cljs.core.Keyword(null,"error","error",-978969032),11,36,cljs.core.list(new cljs.core.Symbol(null,"=","=",-1501502141,null),(200),cljs.core.list(new cljs.core.Keyword(null,"max-message-size-kb","max-message-size-kb",524955570),new cljs.core.Symbol(null,"settings","settings",-1098290894,null))),36,t__10048__auto__,null]));
}}finally {cljs.test.update_current_env_BANG_(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"testing-contexts","testing-contexts",-1485646523)], null),cljs.core.rest);
}});

(voice_code.db_test.default_db_structure.cljs$lang$var = new cljs.core.Var(function(){return voice_code.db_test.default_db_structure;},new cljs.core.Symbol("voice-code.db-test","default-db-structure","voice-code.db-test/default-db-structure",-1606918168,null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"ns","ns",441598760),new cljs.core.Keyword(null,"name","name",1843675177),new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"arglists","arglists",1661989754),new cljs.core.Keyword(null,"doc","doc",1913296891),new cljs.core.Keyword(null,"test","test",577538877)],[cljs.core.with_meta(new cljs.core.Symbol(null,"voice-code.db-test","voice-code.db-test",-1942634009,null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"doc","doc",1913296891),"Tests for app-db schema and helper functions."], null)),new cljs.core.Symbol(null,"default-db-structure","default-db-structure",171868589,null),"voice_code/db_test.cljs",30,1,6,6,cljs.core.List.EMPTY,null,(cljs.core.truth_(voice_code.db_test.default_db_structure)?voice_code.db_test.default_db_structure.cljs$lang$test:null)])));
voice_code.db_test.session_locked_test = (function voice_code$db_test$session_locked_test(){
return cljs.test.test_var(voice_code.db_test.session_locked_test.cljs$lang$var);
});
voice_code.db_test.session_locked_test.cljs$lang$test = (function (){
cljs.test.update_current_env_BANG_.cljs$core$IFn$_invoke$arity$variadic(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"testing-contexts","testing-contexts",-1485646523)], null),cljs.core.conj,cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2(["returns false for unlocked session"], 0));

try{var db_11071 = cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(voice_code.db.default_db,new cljs.core.Keyword(null,"locked-sessions","locked-sessions",-1354550880),cljs.core.PersistentHashSet.EMPTY);
try{var values__10011__auto___11072 = (new cljs.core.List(null,voice_code.db.session_locked_QMARK_(db_11071,"session-1"),null,(1),null));
var result__10012__auto___11073 = cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.false_QMARK_,values__10011__auto___11072);
if(cljs.core.truth_(result__10012__auto___11073)){
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",55,new cljs.core.Keyword(null,"pass","pass",1574159993),11,41,cljs.core.list(new cljs.core.Symbol(null,"false?","false?",-1522377573,null),cljs.core.list(new cljs.core.Symbol("db","session-locked?","db/session-locked?",-1091520697,null),new cljs.core.Symbol(null,"db","db",-1661185010,null),"session-1")),41,cljs.core.cons(new cljs.core.Symbol(null,"false?","false?",-1522377573,null),values__10011__auto___11072),null]));
} else {
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",55,new cljs.core.Keyword(null,"fail","fail",1706214930),11,41,cljs.core.list(new cljs.core.Symbol(null,"false?","false?",-1522377573,null),cljs.core.list(new cljs.core.Symbol("db","session-locked?","db/session-locked?",-1091520697,null),new cljs.core.Symbol(null,"db","db",-1661185010,null),"session-1")),41,(new cljs.core.List(null,new cljs.core.Symbol(null,"not","not",1044554643,null),(new cljs.core.List(null,cljs.core.cons(new cljs.core.Symbol(null,"false?","false?",-1522377573,null),values__10011__auto___11072),null,(1),null)),(2),null)),null]));
}

}catch (e10758){var t__10048__auto___11088 = e10758;
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",55,new cljs.core.Keyword(null,"error","error",-978969032),11,41,cljs.core.list(new cljs.core.Symbol(null,"false?","false?",-1522377573,null),cljs.core.list(new cljs.core.Symbol("db","session-locked?","db/session-locked?",-1091520697,null),new cljs.core.Symbol(null,"db","db",-1661185010,null),"session-1")),41,t__10048__auto___11088,null]));
}}finally {cljs.test.update_current_env_BANG_(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"testing-contexts","testing-contexts",-1485646523)], null),cljs.core.rest);
}
cljs.test.update_current_env_BANG_.cljs$core$IFn$_invoke$arity$variadic(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"testing-contexts","testing-contexts",-1485646523)], null),cljs.core.conj,cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2(["returns true for locked session"], 0));

try{var db = cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(voice_code.db.default_db,new cljs.core.Keyword(null,"locked-sessions","locked-sessions",-1354550880),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, ["session-1",null], null), null));
try{var values__10011__auto___11093 = (new cljs.core.List(null,voice_code.db.session_locked_QMARK_(db,"session-1"),null,(1),null));
var result__10012__auto___11094 = cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.true_QMARK_,values__10011__auto___11093);
if(cljs.core.truth_(result__10012__auto___11094)){
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",54,new cljs.core.Keyword(null,"pass","pass",1574159993),11,45,cljs.core.list(new cljs.core.Symbol(null,"true?","true?",-1600332395,null),cljs.core.list(new cljs.core.Symbol("db","session-locked?","db/session-locked?",-1091520697,null),new cljs.core.Symbol(null,"db","db",-1661185010,null),"session-1")),45,cljs.core.cons(new cljs.core.Symbol(null,"true?","true?",-1600332395,null),values__10011__auto___11093),null]));
} else {
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",54,new cljs.core.Keyword(null,"fail","fail",1706214930),11,45,cljs.core.list(new cljs.core.Symbol(null,"true?","true?",-1600332395,null),cljs.core.list(new cljs.core.Symbol("db","session-locked?","db/session-locked?",-1091520697,null),new cljs.core.Symbol(null,"db","db",-1661185010,null),"session-1")),45,(new cljs.core.List(null,new cljs.core.Symbol(null,"not","not",1044554643,null),(new cljs.core.List(null,cljs.core.cons(new cljs.core.Symbol(null,"true?","true?",-1600332395,null),values__10011__auto___11093),null,(1),null)),(2),null)),null]));
}

}catch (e10766){var t__10048__auto___11102 = e10766;
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",54,new cljs.core.Keyword(null,"error","error",-978969032),11,45,cljs.core.list(new cljs.core.Symbol(null,"true?","true?",-1600332395,null),cljs.core.list(new cljs.core.Symbol("db","session-locked?","db/session-locked?",-1091520697,null),new cljs.core.Symbol(null,"db","db",-1661185010,null),"session-1")),45,t__10048__auto___11102,null]));
}
try{var values__10011__auto__ = (new cljs.core.List(null,voice_code.db.session_locked_QMARK_(db,"session-2"),null,(1),null));
var result__10012__auto__ = cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.false_QMARK_,values__10011__auto__);
if(cljs.core.truth_(result__10012__auto__)){
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",55,new cljs.core.Keyword(null,"pass","pass",1574159993),11,46,cljs.core.list(new cljs.core.Symbol(null,"false?","false?",-1522377573,null),cljs.core.list(new cljs.core.Symbol("db","session-locked?","db/session-locked?",-1091520697,null),new cljs.core.Symbol(null,"db","db",-1661185010,null),"session-2")),46,cljs.core.cons(new cljs.core.Symbol(null,"false?","false?",-1522377573,null),values__10011__auto__),null]));
} else {
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",55,new cljs.core.Keyword(null,"fail","fail",1706214930),11,46,cljs.core.list(new cljs.core.Symbol(null,"false?","false?",-1522377573,null),cljs.core.list(new cljs.core.Symbol("db","session-locked?","db/session-locked?",-1091520697,null),new cljs.core.Symbol(null,"db","db",-1661185010,null),"session-2")),46,(new cljs.core.List(null,new cljs.core.Symbol(null,"not","not",1044554643,null),(new cljs.core.List(null,cljs.core.cons(new cljs.core.Symbol(null,"false?","false?",-1522377573,null),values__10011__auto__),null,(1),null)),(2),null)),null]));
}

return result__10012__auto__;
}catch (e10768){var t__10048__auto__ = e10768;
return cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",55,new cljs.core.Keyword(null,"error","error",-978969032),11,46,cljs.core.list(new cljs.core.Symbol(null,"false?","false?",-1522377573,null),cljs.core.list(new cljs.core.Symbol("db","session-locked?","db/session-locked?",-1091520697,null),new cljs.core.Symbol(null,"db","db",-1661185010,null),"session-2")),46,t__10048__auto__,null]));
}}finally {cljs.test.update_current_env_BANG_(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"testing-contexts","testing-contexts",-1485646523)], null),cljs.core.rest);
}});

(voice_code.db_test.session_locked_test.cljs$lang$var = new cljs.core.Var(function(){return voice_code.db_test.session_locked_test;},new cljs.core.Symbol("voice-code.db-test","session-locked-test","voice-code.db-test/session-locked-test",-1941029925,null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"ns","ns",441598760),new cljs.core.Keyword(null,"name","name",1843675177),new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"arglists","arglists",1661989754),new cljs.core.Keyword(null,"doc","doc",1913296891),new cljs.core.Keyword(null,"test","test",577538877)],[cljs.core.with_meta(new cljs.core.Symbol(null,"voice-code.db-test","voice-code.db-test",-1942634009,null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"doc","doc",1913296891),"Tests for app-db schema and helper functions."], null)),new cljs.core.Symbol(null,"session-locked-test","session-locked-test",2051491230,null),"voice_code/db_test.cljs",29,1,38,38,cljs.core.List.EMPTY,null,(cljs.core.truth_(voice_code.db_test.session_locked_test)?voice_code.db_test.session_locked_test.cljs$lang$test:null)])));
voice_code.db_test.get_messages_for_session_test = (function voice_code$db_test$get_messages_for_session_test(){
return cljs.test.test_var(voice_code.db_test.get_messages_for_session_test.cljs$lang$var);
});
voice_code.db_test.get_messages_for_session_test.cljs$lang$test = (function (){
cljs.test.update_current_env_BANG_.cljs$core$IFn$_invoke$arity$variadic(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"testing-contexts","testing-contexts",-1485646523)], null),cljs.core.conj,cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2(["returns empty vector for missing session"], 0));

try{try{var values__10011__auto___11119 = (new cljs.core.List(null,cljs.core.PersistentVector.EMPTY,(new cljs.core.List(null,voice_code.db.get_messages_for_session(voice_code.db.default_db,"nonexistent"),null,(1),null)),(2),null));
var result__10012__auto___11120 = cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core._EQ_,values__10011__auto___11119);
if(cljs.core.truth_(result__10012__auto___11120)){
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",73,new cljs.core.Keyword(null,"pass","pass",1574159993),9,50,cljs.core.list(new cljs.core.Symbol(null,"=","=",-1501502141,null),cljs.core.PersistentVector.EMPTY,cljs.core.list(new cljs.core.Symbol("db","get-messages-for-session","db/get-messages-for-session",-48355885,null),new cljs.core.Symbol("db","default-db","db/default-db",-1149096552,null),"nonexistent")),50,cljs.core.cons(new cljs.core.Symbol(null,"=","=",-1501502141,null),values__10011__auto___11119),null]));
} else {
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",73,new cljs.core.Keyword(null,"fail","fail",1706214930),9,50,cljs.core.list(new cljs.core.Symbol(null,"=","=",-1501502141,null),cljs.core.PersistentVector.EMPTY,cljs.core.list(new cljs.core.Symbol("db","get-messages-for-session","db/get-messages-for-session",-48355885,null),new cljs.core.Symbol("db","default-db","db/default-db",-1149096552,null),"nonexistent")),50,(new cljs.core.List(null,new cljs.core.Symbol(null,"not","not",1044554643,null),(new cljs.core.List(null,cljs.core.cons(new cljs.core.Symbol(null,"=","=",-1501502141,null),values__10011__auto___11119),null,(1),null)),(2),null)),null]));
}

}catch (e10779){var t__10048__auto___11127 = e10779;
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",73,new cljs.core.Keyword(null,"error","error",-978969032),9,50,cljs.core.list(new cljs.core.Symbol(null,"=","=",-1501502141,null),cljs.core.PersistentVector.EMPTY,cljs.core.list(new cljs.core.Symbol("db","get-messages-for-session","db/get-messages-for-session",-48355885,null),new cljs.core.Symbol("db","default-db","db/default-db",-1149096552,null),"nonexistent")),50,t__10048__auto___11127,null]));
}}finally {cljs.test.update_current_env_BANG_(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"testing-contexts","testing-contexts",-1485646523)], null),cljs.core.rest);
}
cljs.test.update_current_env_BANG_.cljs$core$IFn$_invoke$arity$variadic(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"testing-contexts","testing-contexts",-1485646523)], null),cljs.core.conj,cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2(["returns messages for existing session"], 0));

try{var messages = new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",-1388402092),"m1",new cljs.core.Keyword(null,"text","text",-1790561697),"Hello"], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",-1388402092),"m2",new cljs.core.Keyword(null,"text","text",-1790561697),"World"], null)], null);
var db = cljs.core.assoc_in(voice_code.db.default_db,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"messages","messages",345434482),"session-1"], null),messages);
try{var values__10011__auto__ = (new cljs.core.List(null,messages,(new cljs.core.List(null,voice_code.db.get_messages_for_session(db,"session-1"),null,(1),null)),(2),null));
var result__10012__auto__ = cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core._EQ_,values__10011__auto__);
if(cljs.core.truth_(result__10012__auto__)){
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",68,new cljs.core.Keyword(null,"pass","pass",1574159993),11,56,cljs.core.list(new cljs.core.Symbol(null,"=","=",-1501502141,null),new cljs.core.Symbol(null,"messages","messages",1985966009,null),cljs.core.list(new cljs.core.Symbol("db","get-messages-for-session","db/get-messages-for-session",-48355885,null),new cljs.core.Symbol(null,"db","db",-1661185010,null),"session-1")),56,cljs.core.cons(new cljs.core.Symbol(null,"=","=",-1501502141,null),values__10011__auto__),null]));
} else {
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",68,new cljs.core.Keyword(null,"fail","fail",1706214930),11,56,cljs.core.list(new cljs.core.Symbol(null,"=","=",-1501502141,null),new cljs.core.Symbol(null,"messages","messages",1985966009,null),cljs.core.list(new cljs.core.Symbol("db","get-messages-for-session","db/get-messages-for-session",-48355885,null),new cljs.core.Symbol(null,"db","db",-1661185010,null),"session-1")),56,(new cljs.core.List(null,new cljs.core.Symbol(null,"not","not",1044554643,null),(new cljs.core.List(null,cljs.core.cons(new cljs.core.Symbol(null,"=","=",-1501502141,null),values__10011__auto__),null,(1),null)),(2),null)),null]));
}

return result__10012__auto__;
}catch (e10807){var t__10048__auto__ = e10807;
return cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",68,new cljs.core.Keyword(null,"error","error",-978969032),11,56,cljs.core.list(new cljs.core.Symbol(null,"=","=",-1501502141,null),new cljs.core.Symbol(null,"messages","messages",1985966009,null),cljs.core.list(new cljs.core.Symbol("db","get-messages-for-session","db/get-messages-for-session",-48355885,null),new cljs.core.Symbol(null,"db","db",-1661185010,null),"session-1")),56,t__10048__auto__,null]));
}}finally {cljs.test.update_current_env_BANG_(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"testing-contexts","testing-contexts",-1485646523)], null),cljs.core.rest);
}});

(voice_code.db_test.get_messages_for_session_test.cljs$lang$var = new cljs.core.Var(function(){return voice_code.db_test.get_messages_for_session_test;},new cljs.core.Symbol("voice-code.db-test","get-messages-for-session-test","voice-code.db-test/get-messages-for-session-test",-812491955,null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"ns","ns",441598760),new cljs.core.Keyword(null,"name","name",1843675177),new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"arglists","arglists",1661989754),new cljs.core.Keyword(null,"doc","doc",1913296891),new cljs.core.Keyword(null,"test","test",577538877)],[cljs.core.with_meta(new cljs.core.Symbol(null,"voice-code.db-test","voice-code.db-test",-1942634009,null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"doc","doc",1913296891),"Tests for app-db schema and helper functions."], null)),new cljs.core.Symbol(null,"get-messages-for-session-test","get-messages-for-session-test",967383306,null),"voice_code/db_test.cljs",39,1,48,48,cljs.core.List.EMPTY,null,(cljs.core.truth_(voice_code.db_test.get_messages_for_session_test)?voice_code.db_test.get_messages_for_session_test.cljs$lang$test:null)])));
voice_code.db_test.get_session_test = (function voice_code$db_test$get_session_test(){
return cljs.test.test_var(voice_code.db_test.get_session_test.cljs$lang$var);
});
voice_code.db_test.get_session_test.cljs$lang$test = (function (){
cljs.test.update_current_env_BANG_.cljs$core$IFn$_invoke$arity$variadic(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"testing-contexts","testing-contexts",-1485646523)], null),cljs.core.conj,cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2(["returns nil for missing session"], 0));

try{try{var values__10011__auto___11142 = (new cljs.core.List(null,voice_code.db.get_session(voice_code.db.default_db,"nonexistent"),null,(1),null));
var result__10012__auto___11143 = cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.nil_QMARK_,values__10011__auto___11142);
if(cljs.core.truth_(result__10012__auto___11143)){
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",60,new cljs.core.Keyword(null,"pass","pass",1574159993),9,60,cljs.core.list(new cljs.core.Symbol(null,"nil?","nil?",1612038930,null),cljs.core.list(new cljs.core.Symbol("db","get-session","db/get-session",2009213487,null),new cljs.core.Symbol("db","default-db","db/default-db",-1149096552,null),"nonexistent")),60,cljs.core.cons(new cljs.core.Symbol(null,"nil?","nil?",1612038930,null),values__10011__auto___11142),null]));
} else {
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",60,new cljs.core.Keyword(null,"fail","fail",1706214930),9,60,cljs.core.list(new cljs.core.Symbol(null,"nil?","nil?",1612038930,null),cljs.core.list(new cljs.core.Symbol("db","get-session","db/get-session",2009213487,null),new cljs.core.Symbol("db","default-db","db/default-db",-1149096552,null),"nonexistent")),60,(new cljs.core.List(null,new cljs.core.Symbol(null,"not","not",1044554643,null),(new cljs.core.List(null,cljs.core.cons(new cljs.core.Symbol(null,"nil?","nil?",1612038930,null),values__10011__auto___11142),null,(1),null)),(2),null)),null]));
}

}catch (e10820){var t__10048__auto___11149 = e10820;
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",60,new cljs.core.Keyword(null,"error","error",-978969032),9,60,cljs.core.list(new cljs.core.Symbol(null,"nil?","nil?",1612038930,null),cljs.core.list(new cljs.core.Symbol("db","get-session","db/get-session",2009213487,null),new cljs.core.Symbol("db","default-db","db/default-db",-1149096552,null),"nonexistent")),60,t__10048__auto___11149,null]));
}}finally {cljs.test.update_current_env_BANG_(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"testing-contexts","testing-contexts",-1485646523)], null),cljs.core.rest);
}
cljs.test.update_current_env_BANG_.cljs$core$IFn$_invoke$arity$variadic(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"testing-contexts","testing-contexts",-1485646523)], null),cljs.core.conj,cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2(["returns session for existing id"], 0));

try{var session = new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),"session-1",new cljs.core.Keyword(null,"backend-name","backend-name",-2065177492),"Test Session",new cljs.core.Keyword(null,"working-directory","working-directory",-145423687),"/test"], null);
var db = cljs.core.assoc_in(voice_code.db.default_db,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"sessions","sessions",-699316392),"session-1"], null),session);
try{var values__10011__auto__ = (new cljs.core.List(null,session,(new cljs.core.List(null,voice_code.db.get_session(db,"session-1"),null,(1),null)),(2),null));
var result__10012__auto__ = cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core._EQ_,values__10011__auto__);
if(cljs.core.truth_(result__10012__auto__)){
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",54,new cljs.core.Keyword(null,"pass","pass",1574159993),11,67,cljs.core.list(new cljs.core.Symbol(null,"=","=",-1501502141,null),new cljs.core.Symbol(null,"session","session",-1646156666,null),cljs.core.list(new cljs.core.Symbol("db","get-session","db/get-session",2009213487,null),new cljs.core.Symbol(null,"db","db",-1661185010,null),"session-1")),67,cljs.core.cons(new cljs.core.Symbol(null,"=","=",-1501502141,null),values__10011__auto__),null]));
} else {
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",54,new cljs.core.Keyword(null,"fail","fail",1706214930),11,67,cljs.core.list(new cljs.core.Symbol(null,"=","=",-1501502141,null),new cljs.core.Symbol(null,"session","session",-1646156666,null),cljs.core.list(new cljs.core.Symbol("db","get-session","db/get-session",2009213487,null),new cljs.core.Symbol(null,"db","db",-1661185010,null),"session-1")),67,(new cljs.core.List(null,new cljs.core.Symbol(null,"not","not",1044554643,null),(new cljs.core.List(null,cljs.core.cons(new cljs.core.Symbol(null,"=","=",-1501502141,null),values__10011__auto__),null,(1),null)),(2),null)),null]));
}

return result__10012__auto__;
}catch (e10825){var t__10048__auto__ = e10825;
return cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",54,new cljs.core.Keyword(null,"error","error",-978969032),11,67,cljs.core.list(new cljs.core.Symbol(null,"=","=",-1501502141,null),new cljs.core.Symbol(null,"session","session",-1646156666,null),cljs.core.list(new cljs.core.Symbol("db","get-session","db/get-session",2009213487,null),new cljs.core.Symbol(null,"db","db",-1661185010,null),"session-1")),67,t__10048__auto__,null]));
}}finally {cljs.test.update_current_env_BANG_(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"testing-contexts","testing-contexts",-1485646523)], null),cljs.core.rest);
}});

(voice_code.db_test.get_session_test.cljs$lang$var = new cljs.core.Var(function(){return voice_code.db_test.get_session_test;},new cljs.core.Symbol("voice-code.db-test","get-session-test","voice-code.db-test/get-session-test",-2033745895,null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"ns","ns",441598760),new cljs.core.Keyword(null,"name","name",1843675177),new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"arglists","arglists",1661989754),new cljs.core.Keyword(null,"doc","doc",1913296891),new cljs.core.Keyword(null,"test","test",577538877)],[cljs.core.with_meta(new cljs.core.Symbol(null,"voice-code.db-test","voice-code.db-test",-1942634009,null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"doc","doc",1913296891),"Tests for app-db schema and helper functions."], null)),new cljs.core.Symbol(null,"get-session-test","get-session-test",1759397596,null),"voice_code/db_test.cljs",26,1,58,58,cljs.core.List.EMPTY,null,(cljs.core.truth_(voice_code.db_test.get_session_test)?voice_code.db_test.get_session_test.cljs$lang$test:null)])));
voice_code.db_test.active_session_test = (function voice_code$db_test$active_session_test(){
return cljs.test.test_var(voice_code.db_test.active_session_test.cljs$lang$var);
});
voice_code.db_test.active_session_test.cljs$lang$test = (function (){
cljs.test.update_current_env_BANG_.cljs$core$IFn$_invoke$arity$variadic(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"testing-contexts","testing-contexts",-1485646523)], null),cljs.core.conj,cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2(["returns nil when no active session"], 0));

try{try{var values__10011__auto___11154 = (new cljs.core.List(null,voice_code.db.active_session(voice_code.db.default_db),null,(1),null));
var result__10012__auto___11155 = cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.nil_QMARK_,values__10011__auto___11154);
if(cljs.core.truth_(result__10012__auto___11155)){
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",49,new cljs.core.Keyword(null,"pass","pass",1574159993),9,71,cljs.core.list(new cljs.core.Symbol(null,"nil?","nil?",1612038930,null),cljs.core.list(new cljs.core.Symbol("db","active-session","db/active-session",-1498002875,null),new cljs.core.Symbol("db","default-db","db/default-db",-1149096552,null))),71,cljs.core.cons(new cljs.core.Symbol(null,"nil?","nil?",1612038930,null),values__10011__auto___11154),null]));
} else {
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",49,new cljs.core.Keyword(null,"fail","fail",1706214930),9,71,cljs.core.list(new cljs.core.Symbol(null,"nil?","nil?",1612038930,null),cljs.core.list(new cljs.core.Symbol("db","active-session","db/active-session",-1498002875,null),new cljs.core.Symbol("db","default-db","db/default-db",-1149096552,null))),71,(new cljs.core.List(null,new cljs.core.Symbol(null,"not","not",1044554643,null),(new cljs.core.List(null,cljs.core.cons(new cljs.core.Symbol(null,"nil?","nil?",1612038930,null),values__10011__auto___11154),null,(1),null)),(2),null)),null]));
}

}catch (e10841){var t__10048__auto___11157 = e10841;
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",49,new cljs.core.Keyword(null,"error","error",-978969032),9,71,cljs.core.list(new cljs.core.Symbol(null,"nil?","nil?",1612038930,null),cljs.core.list(new cljs.core.Symbol("db","active-session","db/active-session",-1498002875,null),new cljs.core.Symbol("db","default-db","db/default-db",-1149096552,null))),71,t__10048__auto___11157,null]));
}}finally {cljs.test.update_current_env_BANG_(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"testing-contexts","testing-contexts",-1485646523)], null),cljs.core.rest);
}
cljs.test.update_current_env_BANG_.cljs$core$IFn$_invoke$arity$variadic(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"testing-contexts","testing-contexts",-1485646523)], null),cljs.core.conj,cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2(["returns active session when set"], 0));

try{var session = new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",-1388402092),"session-1",new cljs.core.Keyword(null,"backend-name","backend-name",-2065177492),"Test"], null);
var db = cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(cljs.core.assoc_in(voice_code.db.default_db,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"sessions","sessions",-699316392),"session-1"], null),session),new cljs.core.Keyword(null,"active-session-id","active-session-id",943086451),"session-1");
try{var values__10011__auto__ = (new cljs.core.List(null,session,(new cljs.core.List(null,voice_code.db.active_session(db),null,(1),null)),(2),null));
var result__10012__auto__ = cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core._EQ_,values__10011__auto__);
if(cljs.core.truth_(result__10012__auto__)){
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",45,new cljs.core.Keyword(null,"pass","pass",1574159993),11,78,cljs.core.list(new cljs.core.Symbol(null,"=","=",-1501502141,null),new cljs.core.Symbol(null,"session","session",-1646156666,null),cljs.core.list(new cljs.core.Symbol("db","active-session","db/active-session",-1498002875,null),new cljs.core.Symbol(null,"db","db",-1661185010,null))),78,cljs.core.cons(new cljs.core.Symbol(null,"=","=",-1501502141,null),values__10011__auto__),null]));
} else {
cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",45,new cljs.core.Keyword(null,"fail","fail",1706214930),11,78,cljs.core.list(new cljs.core.Symbol(null,"=","=",-1501502141,null),new cljs.core.Symbol(null,"session","session",-1646156666,null),cljs.core.list(new cljs.core.Symbol("db","active-session","db/active-session",-1498002875,null),new cljs.core.Symbol(null,"db","db",-1661185010,null))),78,(new cljs.core.List(null,new cljs.core.Symbol(null,"not","not",1044554643,null),(new cljs.core.List(null,cljs.core.cons(new cljs.core.Symbol(null,"=","=",-1501502141,null),values__10011__auto__),null,(1),null)),(2),null)),null]));
}

return result__10012__auto__;
}catch (e10845){var t__10048__auto__ = e10845;
return cljs.test.report.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"expected","expected",1583670997),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"message","message",-406056002)],["voice_code/db_test.cljs",45,new cljs.core.Keyword(null,"error","error",-978969032),11,78,cljs.core.list(new cljs.core.Symbol(null,"=","=",-1501502141,null),new cljs.core.Symbol(null,"session","session",-1646156666,null),cljs.core.list(new cljs.core.Symbol("db","active-session","db/active-session",-1498002875,null),new cljs.core.Symbol(null,"db","db",-1661185010,null))),78,t__10048__auto__,null]));
}}finally {cljs.test.update_current_env_BANG_(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"testing-contexts","testing-contexts",-1485646523)], null),cljs.core.rest);
}});

(voice_code.db_test.active_session_test.cljs$lang$var = new cljs.core.Var(function(){return voice_code.db_test.active_session_test;},new cljs.core.Symbol("voice-code.db-test","active-session-test","voice-code.db-test/active-session-test",1472866858,null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"ns","ns",441598760),new cljs.core.Keyword(null,"name","name",1843675177),new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"arglists","arglists",1661989754),new cljs.core.Keyword(null,"doc","doc",1913296891),new cljs.core.Keyword(null,"test","test",577538877)],[cljs.core.with_meta(new cljs.core.Symbol(null,"voice-code.db-test","voice-code.db-test",-1942634009,null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"doc","doc",1913296891),"Tests for app-db schema and helper functions."], null)),new cljs.core.Symbol(null,"active-session-test","active-session-test",-1111266833,null),"voice_code/db_test.cljs",29,1,69,69,cljs.core.List.EMPTY,null,(cljs.core.truth_(voice_code.db_test.active_session_test)?voice_code.db_test.active_session_test.cljs$lang$test:null)])));

//# sourceMappingURL=voice_code.db_test.js.map
