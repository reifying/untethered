{"version":3,"sources":["shadow/test/env.cljs"],"mappings":"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","names":["js/goog.define","shadow.test.env/UI-DRIVEN","js/shadow","js/shadow.test","js/shadow.test.env","js/shadow.test.env.tests-ref","shadow.test.env/tests-ref","cljs.core.atom","shadow.test.env/reset-test-data!","test-data","cljs.core.swap_BANG_","cljs.core/assoc","shadow.test.env/get-tests","cljs.core/deref","cljs.core.get","shadow.test.env/get-test-vars","iter__5628__auto__","s__7413","cljs.core/LazySeq","temp__5823__auto__","cljs.core/seq","xs__6383__auto__","vec__7422","cljs.core/first","cljs.core.nth","iterys__5624__auto__","s__7415","cljs.core/chunked-seq?","c__5626__auto__","size__5627__auto__","cljs.core/count","b__7417","cljs.core/chunk-buffer","i__7416","cljs.core/-nth","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__7414","cljs.core/chunk-rest","cljs.core/cons","cljs.core/rest","fs__5625__auto__","cljs.core.concat","iter__7412","ns","ns-info","var","js/Error","shadow.test.env/get-test-ns-info","cljs.core/Symbol","cljs.core.get_in","shadow.test.env/get-test-namespaces","cljs.core/keys","shadow.test.env/get-test-count","s__7441","b__7443","i__7442","map__7444","cljs.core/--destructure-map","iter__7440","map__7446","vars","test-ns","cljs.core/vals","cljs.core.reduce","cljs.core/+","cljs.core/chunk-first"],"sourcesContent":["(ns shadow.test.env\n  (:require-macros [shadow.test.env]))\n\n(goog-define UI-DRIVEN false)\n\n;; this should be how cljs.test works out of the box IMHO\n;; all those macros don't compose and make writing testing utilities painful\n;; (eg. you have to recompile the namespace containing the macro to pick up new tests)\n;; only the macros were replaced, the functionality remains unchanged\n(defonce tests-ref (atom {:namespaces {}}))\n\n(defn reset-test-data! [test-data]\n  (swap! tests-ref assoc :namespaces test-data))\n\n(defn get-tests []\n  (get @tests-ref :namespaces))\n\n(defn get-test-vars []\n  (for [[ns ns-info] (get-tests)\n        var (:vars ns-info)]\n    var))\n\n(defn get-test-ns-info [ns]\n  {:pre [(symbol? ns)]}\n  (get-in @tests-ref [:namespaces ns]))\n\n(defn get-test-namespaces\n  \"returns all the registered test namespaces and symbols\n   use (get-test-ns-info the-sym) to get the details\"\n  []\n  (-> @tests-ref (:namespaces) (keys)))\n\n(defn get-test-count []\n  (->> (for [{:keys [vars] :as test-ns} (-> @tests-ref (:namespaces) (vals))]\n         (count vars))\n       (reduce + 0)))"],"x_google_ignoreList":[0]}