{"id":"voice-code-0f5f","content_hash":"2e38cba62f9cebd6f2707cf9a5dba21a2c5b1d25f79b8dd59def6f3a26f7fa3e","title":"Backend: Parse Makefile and extract targets with tests","description":"Implement voice-code.commands namespace with parse-makefile function. Use 'make -qp' to extract targets. Filter internal targets (starting with . or _). Group by naming convention (e.g., docker-up -\u003e {:id \"docker.up\" :label \"Up\" :group \"docker\"}). Return hierarchical structure. Include comprehensive tests for various Makefile formats, edge cases, and grouping logic.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-05T11:51:21.227862-06:00","updated_at":"2025-11-05T12:01:31.876656-06:00","closed_at":"2025-11-05T12:01:31.876657-06:00","source_repo":"."}
{"id":"voice-code-1","content_hash":"8d3d053ee58d9cce22014375d8b164eb25093e43fffbf6807dc9631569974b74","title":"Navigation UX refinement: Projects-first hierarchy","description":"Refine navigation titles and section headers to emphasize directory/project organization while keeping minimal changes from current structure.\n\nChanges:\n- Home screen navigation title: 'Untethered' → 'Projects'\n- Section header for directories: 'Untethered' → 'Projects'  \n- Section header for recent: 'Recent Sessions' → 'Recent'\n\nThis keeps the directory-first mental model while making back buttons more intuitive ('← Projects' instead of '← Untethered').","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-10-25T22:46:15.681807-05:00","updated_at":"2025-11-15T22:28:48.592567-06:00","closed_at":"2025-11-15T22:28:48.592567-06:00","source_repo":"."}
{"id":"voice-code-1782","content_hash":"fe41eab08331bef24f43eb13dfa2b409a42564fd79196aff3a2b6a99470b3e0d","title":"Integration testing: End-to-end flow validation","description":"Test complete upload, list, share, and delete flows","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-10T10:00:11.509806-06:00","updated_at":"2025-11-10T12:59:17.91596-06:00","closed_at":"2025-11-10T12:59:17.91596-06:00","source_repo":".","dependencies":[{"issue_id":"voice-code-1782","depends_on_id":"voice-code-254e","type":"blocks","created_at":"2025-11-10T10:00:30.322668-06:00","created_by":"travisbrown"}]}
{"id":"voice-code-2","content_hash":"5b913bb415d8291d73c7b5a2bd0b0429787897bac368a6de90b92815874fc026","title":"Revert navigation title from 'Untethered' to 'Projects'","description":"","status":"closed","priority":0,"issue_type":"task","created_at":"2025-10-25T22:46:21.200801-05:00","updated_at":"2025-11-15T22:28:48.592937-06:00","closed_at":"2025-11-15T22:28:48.592937-06:00","source_repo":".","dependencies":[{"issue_id":"voice-code-2","depends_on_id":"voice-code-1","type":"parent-child","created_at":"2025-10-25T22:46:28.135913-05:00","created_by":"travisbrown"}]}
{"id":"voice-code-24ab","content_hash":"54ec31b75c38316943404315e61100eca7853abcc5e0c4a0c5b4cc3a305f9bd0","title":"Backend: Stream command output in real-time with tests","description":"Read stdout/stderr asynchronously from process. Send command_output messages with stream markers as data arrives. Write simultaneously to history file with markers. Send command_complete with exit_code and duration. Handle process errors and WebSocket disconnects gracefully. Test streaming, interleaved output, error handling, disconnect scenarios.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-05T11:51:40.249315-06:00","updated_at":"2025-11-05T15:58:22.723334-06:00","closed_at":"2025-11-05T15:58:22.723336-06:00","source_repo":".","dependencies":[{"issue_id":"voice-code-24ab","depends_on_id":"voice-code-7273","type":"blocks","created_at":"2025-11-05T11:52:23.618812-06:00","created_by":"travisbrown"},{"issue_id":"voice-code-24ab","depends_on_id":"voice-code-2af7","type":"blocks","created_at":"2025-11-05T11:52:23.630026-06:00","created_by":"travisbrown"}]}
{"id":"voice-code-254e","content_hash":"e4fc2ebcca40f8c8d2a80e2c45a9785f5c9e6b4c750c789c2937896b87c6c95f","title":"iOS: Add Settings integration for resource storage location","description":"Add Settings section for configuring resource storage location","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-10T10:00:06.508823-06:00","updated_at":"2025-11-10T12:24:44.254211-06:00","closed_at":"2025-11-10T12:24:44.254211-06:00","source_repo":".","dependencies":[{"issue_id":"voice-code-254e","depends_on_id":"voice-code-3cba","type":"blocks","created_at":"2025-11-10T10:00:26.429727-06:00","created_by":"travisbrown"}]}
{"id":"voice-code-296b","content_hash":"76b0d9ef7cfe0a8af4cf4b3acea90e1837aeee251c4741408a7114e47c0aaee5","title":"Frontend: Command models and WebSocket handling with tests","description":"Create Swift models: Command (id, label, description, type, children), AvailableCommands (projectCommands, generalCommands), CommandHistoryEntry, CommandSession. Parse available_commands, command_started, command_output, command_complete, command_history, command_output_full messages. Convert snake_case to camelCase. Store in @Published properties. Test model decoding, key conversion, state updates.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-05T11:51:58.234791-06:00","updated_at":"2025-11-05T16:20:49.083859-06:00","closed_at":"2025-11-05T16:20:49.08386-06:00","source_repo":".","dependencies":[{"issue_id":"voice-code-296b","depends_on_id":"voice-code-ee18","type":"blocks","created_at":"2025-11-05T11:52:25.538154-06:00","created_by":"travisbrown"}]}
{"id":"voice-code-2af7","content_hash":"0d2e9d620831064da6047cac494ee4e35dc7d438692504f5a7e39a740ae2558e","title":"Backend: Command history storage with tests","description":"Create ~/.voice-code/command-history/ directory structure. Implement atomic index.edn updates. Store output with stream markers in \u003csession-id\u003e.log files. Add metadata tracking (command_id, timestamp, exit_code, duration, working_directory). Implement 7-day retention cleanup. Test atomic updates, concurrent writes, cleanup logic, and error handling.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-05T11:51:22.736014-06:00","updated_at":"2025-11-05T12:01:34.48859-06:00","closed_at":"2025-11-05T12:01:34.488591-06:00","source_repo":"."}
{"id":"voice-code-3","content_hash":"7962588d445dd3542d6b776fbc60c324b355294caf88eff4d519620f5cb69f61","title":"Change section header from 'Untethered' back to 'Projects'","description":"","status":"closed","priority":0,"issue_type":"task","created_at":"2025-10-25T22:46:21.350015-05:00","updated_at":"2025-11-15T22:28:48.593073-06:00","closed_at":"2025-11-15T22:28:48.593073-06:00","source_repo":".","dependencies":[{"issue_id":"voice-code-3","depends_on_id":"voice-code-1","type":"parent-child","created_at":"2025-10-25T22:46:28.264567-05:00","created_by":"travisbrown"}]}
{"id":"voice-code-3029","content_hash":"d67f94e6e9e5fbfdbfc467c4a18b5c9a6fe090d47a65de0e5066c35b7f9daddf","title":"iOS: Implement ResourcesManager and pending upload processing","description":"Create ResourcesManager to process App Group uploads and communicate with backend","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-11-10T09:59:56.829315-06:00","updated_at":"2025-11-10T10:56:08.879221-06:00","closed_at":"2025-11-10T10:56:08.879221-06:00","source_repo":".","dependencies":[{"issue_id":"voice-code-3029","depends_on_id":"voice-code-7c24","type":"blocks","created_at":"2025-11-10T10:00:16.252174-06:00","created_by":"travisbrown"}]}
{"id":"voice-code-3478","content_hash":"77f4760172e540f2c2b94fb48fd750192ea97fedba6710b82f90c4f9a520e0f0","title":"Add Queue section to DirectoryListView","description":"Add collapsible Queue section between Recent and Projects. Show queuedSessions with swipe-to-delete. Only show when queueEnabled and non-empty.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-14T19:24:40.823761-06:00","updated_at":"2025-11-14T19:32:05.880967-06:00","closed_at":"2025-11-14T19:32:05.880967-06:00","source_repo":".","dependencies":[{"issue_id":"voice-code-3478","depends_on_id":"voice-code-a8ce","type":"blocks","created_at":"2025-11-14T19:24:45.313744-06:00","created_by":"travisbrown"},{"issue_id":"voice-code-3478","depends_on_id":"voice-code-6c81","type":"blocks","created_at":"2025-11-14T19:24:45.324839-06:00","created_by":"travisbrown"},{"issue_id":"voice-code-3478","depends_on_id":"voice-code-f819","type":"blocks","created_at":"2025-11-14T19:24:45.335583-06:00","created_by":"travisbrown"}]}
{"id":"voice-code-37c5","content_hash":"8f55c08511d7c8628a72d74bffeb8ad7517cb11b0c9651b9d7ed25ac776554dd","title":"Integration tests: Frontend-backend command execution","description":"Test end-to-end: iOS receives available_commands -\u003e displays menu -\u003e user taps command -\u003e backend executes -\u003e iOS receives streaming output -\u003e displays results -\u003e retrieves history. Test with mock WebSocket and real iOS UI. Verify state synchronization, error handling, concurrent sessions.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-05T11:52:13.603324-06:00","updated_at":"2025-11-15T22:28:48.59328-06:00","closed_at":"2025-11-15T22:28:48.59328-06:00","source_repo":".","dependencies":[{"issue_id":"voice-code-37c5","depends_on_id":"voice-code-e6bd","type":"blocks","created_at":"2025-11-05T11:52:27.24551-06:00","created_by":"travisbrown"},{"issue_id":"voice-code-37c5","depends_on_id":"voice-code-ef8f","type":"blocks","created_at":"2025-11-05T11:52:27.256568-06:00","created_by":"travisbrown"}]}
{"id":"voice-code-3a62","content_hash":"57f96a16c88f43f69ca09f4111e94c98334bd9a780ca1d61754f0e1288db30de","title":"Debounce VoiceCodeClient WebSocket updates","description":"WebSocket messages update @Published properties without debouncing, causing rapid-fire view invalidations during active sessions.\n\nCurrent: Each message updates client state immediately:\n- turn_complete → lockedSessions.remove\n- session_locked → lockedSessions.insert  \n- command_started → runningCommands[id] = execution\n- Multiple messages/second during active Claude turns\n\nProblem: Each update triggers ALL observers (DirectoryListView, SessionsForDirectoryView, etc), causing layout storm.\n\nFix: Debounce updates with 100ms delay, batch rapid changes.\n\nLocation: ios/VoiceCode/Managers/VoiceCodeClient.swift:199 handleMessage\nImpact: Reduces layout thrashing from rapid WebSocket messages","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-11-15T22:00:55.60983-06:00","updated_at":"2025-11-16T11:31:52.960592-06:00","closed_at":"2025-11-16T11:31:52.960592-06:00","source_repo":".","labels":["ios","p0","performance"]}
{"id":"voice-code-3cba","content_hash":"058caed6ab4b42d8da501a81dffed9ac60f2cfc46091cc20da4068017cbb00e3","title":"iOS: Build Resources UI views","description":"Create ResourcesView, ResourceSessionPickerView, and ResourceShareView","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-10T10:00:01.419751-06:00","updated_at":"2025-11-10T11:05:52.314576-06:00","closed_at":"2025-11-10T11:05:52.314576-06:00","source_repo":".","dependencies":[{"issue_id":"voice-code-3cba","depends_on_id":"voice-code-3029","type":"blocks","created_at":"2025-11-10T10:00:20.190508-06:00","created_by":"travisbrown"}]}
{"id":"voice-code-4","content_hash":"52632b866f7933667e84dd8c6d1470e124f5af860d420d7750bd4e75986eb824","title":"Shorten 'Recent Sessions' section header to 'Recent'","description":"","status":"closed","priority":0,"issue_type":"task","created_at":"2025-10-25T22:46:21.482193-05:00","updated_at":"2025-11-15T22:28:48.593181-06:00","closed_at":"2025-11-15T22:28:48.593181-06:00","source_repo":".","dependencies":[{"issue_id":"voice-code-4","depends_on_id":"voice-code-1","type":"parent-child","created_at":"2025-10-25T22:46:28.380605-05:00","created_by":"travisbrown"}]}
{"id":"voice-code-40e4","content_hash":"ea56e479fb6209429acae9b8fdeebbe0e0d9a87acfb8e14bce30d4c3a46a4554","title":"Frontend: Command menu UI with MRU sorting and tests","description":"Create CommandMenuView with Project Commands and General Commands sections. Use SwiftUI DisclosureGroup for hierarchy. Implement MRU tracking in UserDefaults (per command, timestamp-based). Sort: used commands by timestamp desc, then unused alphabetically. Send execute_command on tap. Integrate into Projects view. Test UI rendering, MRU sorting, command execution, state management.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-05T11:51:59.280191-06:00","updated_at":"2025-11-05T16:23:53.036003-06:00","closed_at":"2025-11-05T16:23:53.036005-06:00","source_repo":".","dependencies":[{"issue_id":"voice-code-40e4","depends_on_id":"voice-code-296b","type":"blocks","created_at":"2025-11-05T11:52:25.549798-06:00","created_by":"travisbrown"}]}
{"id":"voice-code-5359","content_hash":"2a947e97fe477dc00c87ee3d3e4b2386ec7413c9609567b62f79cfc8ee9f160b","title":"Test toolbar remove button","description":"Test button only shows when queue enabled and session in queue. Test tapping button removes from queue. Test button disappears after removal.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-14T19:24:14.989318-06:00","updated_at":"2025-11-14T19:42:56.428826-06:00","closed_at":"2025-11-14T19:42:56.428826-06:00","source_repo":".","dependencies":[{"issue_id":"voice-code-5359","depends_on_id":"voice-code-6519","type":"blocks","created_at":"2025-11-14T19:24:18.297403-06:00","created_by":"travisbrown"}]}
{"id":"voice-code-54e8","content_hash":"40783da97e7112d1dc92ba16ede12493be879aa4e5135e928470fe296218d92d","title":"Debounce VoiceCodeClient WebSocket updates","description":"WebSocket messages update @Published properties without debouncing, causing rapid-fire view invalidations during active sessions. Each message updates client state immediately (turn_complete, session_locked, command_started). Multiple messages/second during active Claude turns. Each update triggers ALL observers (DirectoryListView, SessionsForDirectoryView, etc), causing layout storm. Fix: Debounce updates with 100ms delay, batch rapid changes. Location: ios/VoiceCode/Managers/VoiceCodeClient.swift:199 handleMessage","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-11-15T22:23:35.065945-06:00","updated_at":"2025-11-15T22:27:44.120252-06:00","closed_at":"2025-11-15T22:27:44.120252-06:00","source_repo":"."}
{"id":"voice-code-63bd","content_hash":"9ebe39745dcafda85caa34ac1709fd720e519bfea5867cda45a2dc308bb4305b","title":"End-to-end workflow test","description":"Manual test: Enable queue, send messages in 5 threads, verify FIFO order, verify locked threads hidden, remove via swipe and button, verify positions compact correctly.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-14T19:24:58.084869-06:00","updated_at":"2025-11-14T19:42:56.429642-06:00","closed_at":"2025-11-14T19:42:56.429642-06:00","source_repo":".","dependencies":[{"issue_id":"voice-code-63bd","depends_on_id":"voice-code-8223","type":"blocks","created_at":"2025-11-14T19:25:02.372134-06:00","created_by":"travisbrown"},{"issue_id":"voice-code-63bd","depends_on_id":"voice-code-5359","type":"blocks","created_at":"2025-11-14T19:25:02.382921-06:00","created_by":"travisbrown"},{"issue_id":"voice-code-63bd","depends_on_id":"voice-code-db3a","type":"blocks","created_at":"2025-11-14T19:25:02.393752-06:00","created_by":"travisbrown"}]}
{"id":"voice-code-6519","content_hash":"a6346add4728904309660b3466d04058850ff7df851d30a2b57f4be530deba4f","title":"Add Remove from Queue button to ConversationView toolbar","description":"Show button when queueEnabled \u0026\u0026 session.isInQueue. Use xmark.circle.fill icon. Call removeFromQueue() on tap.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-14T19:24:06.355267-06:00","updated_at":"2025-11-14T19:31:06.646862-06:00","closed_at":"2025-11-14T19:31:06.646862-06:00","source_repo":".","dependencies":[{"issue_id":"voice-code-6519","depends_on_id":"voice-code-6c81","type":"blocks","created_at":"2025-11-14T19:24:11.135239-06:00","created_by":"travisbrown"},{"issue_id":"voice-code-6519","depends_on_id":"voice-code-f819","type":"blocks","created_at":"2025-11-14T19:24:11.147103-06:00","created_by":"travisbrown"}]}
{"id":"voice-code-6b9b","content_hash":"c6f70658a0e502cc4d62cca6a4d12d7ecd1658d8be6784e5c27454109a402f44","title":"Test CoreData migration with queue attributes","description":"Verify migration completes without errors. Test default values for new attributes. Test existing sessions are unaffected.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-14T19:22:59.00883-06:00","updated_at":"2025-11-14T19:29:19.439468-06:00","closed_at":"2025-11-14T19:29:19.439468-06:00","source_repo":".","dependencies":[{"issue_id":"voice-code-6b9b","depends_on_id":"voice-code-d749","type":"blocks","created_at":"2025-11-14T19:23:03.510104-06:00","created_by":"travisbrown"}]}
{"id":"voice-code-6c81","content_hash":"164f45c911e96df2b436ca2e3f0f5c54e088a5b19d7564eef285f63d311ecb66","title":"Implement removeFromQueue() helper function","description":"Clear queue flags. Compact positions of remaining items. Save to CoreData.","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-11-14T19:23:32.668534-06:00","updated_at":"2025-11-14T19:30:44.144579-06:00","closed_at":"2025-11-14T19:30:44.144579-06:00","source_repo":".","dependencies":[{"issue_id":"voice-code-6c81","depends_on_id":"voice-code-d749","type":"blocks","created_at":"2025-11-14T19:23:36.043763-06:00","created_by":"travisbrown"}]}
{"id":"voice-code-6e45","content_hash":"01529d36abd8192b0ec2e15d30ee772baefab47d10942c84f54bd314ef745fd9","title":"Isolate VoiceCodeClient observation scope","description":"DirectoryListView observes entire VoiceCodeClient (9 @Published properties), causing unnecessary re-renders when unrelated state changes. DirectoryListView only needs lockedSessions + pendingUploadCount, but triggers on all 9 properties. Fix: Create DirectoryListViewModel that subscribes only to relevant properties. Location: ios/VoiceCode/Views/DirectoryListView.swift:11. Impact: 78% reduction in view invalidations","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-11-15T22:23:13.916106-06:00","updated_at":"2025-11-15T22:27:44.120647-06:00","closed_at":"2025-11-15T22:27:44.120647-06:00","source_repo":"."}
{"id":"voice-code-725f","content_hash":"a720e332287d95248f632b5f73ab5f328457bf2096484c17e462106e238629e9","title":"Add Queue toggle to SettingsView","description":"Add Queue section with toggle and descriptive text after Recent section","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-14T19:23:12.129765-06:00","updated_at":"2025-11-14T19:29:41.552291-06:00","closed_at":"2025-11-14T19:29:41.552291-06:00","source_repo":".","dependencies":[{"issue_id":"voice-code-725f","depends_on_id":"voice-code-f819","type":"blocks","created_at":"2025-11-14T19:23:15.569671-06:00","created_by":"travisbrown"}]}
{"id":"voice-code-7273","content_hash":"ff6e9f985c5ff48353e39c468160e1850021aeb999bdba227e4ed851135db913","title":"Backend: Handle execute_command and spawn session with tests","description":"Generate unique command_session_id (cmd- + UUID). Resolve command_id to shell command (docker.up -\u003e 'make docker-up', git.status -\u003e 'git status'). Use ProcessBuilder for async execution. Send command_started response. Track active sessions in atom. Test command resolution, session ID generation, process spawning, error cases (missing command, spawn failure).","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-05T11:51:38.557504-06:00","updated_at":"2025-11-05T12:11:43.783143-06:00","closed_at":"2025-11-05T12:11:43.783144-06:00","source_repo":"."}
{"id":"voice-code-73b0","content_hash":"eff76cd4ee0a81e557d6844af784de1c20f3bbc0721bedb0ad50b7d0b4081d9f","title":"Manual testing and polish","description":"Perform manual testing with real Makefile projects. Test various Makefile formats (GNU make, complex targets, edge cases). Test UI responsiveness, error messages, edge cases. Polish: loading states, error messages, empty states, accessibility. Document any discovered issues.","status":"open","priority":0,"issue_type":"task","created_at":"2025-11-05T11:52:14.392686-06:00","updated_at":"2025-11-05T11:52:14.392686-06:00","source_repo":".","dependencies":[{"issue_id":"voice-code-73b0","depends_on_id":"voice-code-37c5","type":"blocks","created_at":"2025-11-05T11:52:27.267382-06:00","created_by":"travisbrown"}]}
{"id":"voice-code-7677","content_hash":"8ecc8784bc3cecd8590039fc66e6cf80bd0708b09ea7e5125632c5fee5c414ae","title":"Test settings toggle shows/hides queue section","description":"Test enabling queueEnabled shows queue section. Test disabling hides section. Test state persists across app restarts.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-14T19:23:19.713223-06:00","updated_at":"2025-11-14T19:38:27.58824-06:00","closed_at":"2025-11-14T19:38:27.58824-06:00","source_repo":"."}
{"id":"voice-code-7b68","content_hash":"974e7393507cc30a2c80ee8920c1bb73640022cccba353a2374b533e170382f1","title":"Isolate VoiceCodeClient observation scope","description":"DirectoryListView observes entire VoiceCodeClient (9 @Published properties), causing unnecessary re-renders when unrelated state changes.\n\nCurrent: ANY change to isConnected, currentError, isProcessing, lockedSessions, availableCommands, runningCommands, commandHistory, commandOutputFull, or resourcesList invalidates DirectoryListView.\n\nProblem: DirectoryListView only needs lockedSessions + pendingUploadCount, but triggers on all 9 properties.\n\nFix: Create DirectoryListViewModel that subscribes only to relevant properties.\n\nLocation: ios/VoiceCode/Views/DirectoryListView.swift:11\nImpact: 78% reduction in view invalidations","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-11-15T22:00:53.361834-06:00","updated_at":"2025-11-16T10:52:34.92052-06:00","closed_at":"2025-11-16T10:52:34.92052-06:00","source_repo":".","labels":["ios","p0","performance"]}
{"id":"voice-code-7c24","content_hash":"b45cfaaceeaa1c0f27ae366eacb01ae8bcd2d162d90de9347f1f61306bdcd3e0","title":"Backend: Implement resources namespace with upload/list/delete","description":"Create voice-code.resources namespace with file operations and WebSocket handlers","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-11-10T09:59:48.117166-06:00","updated_at":"2025-11-10T10:10:06.816383-06:00","closed_at":"2025-11-10T10:10:06.816383-06:00","source_repo":"."}
{"id":"voice-code-7cdf","content_hash":"e10ba898ac0270daa80d8502488712acd16462b2440fb7c68e041ad4518bd61f","title":"Implement addToQueue() helper function","description":"Handle new threads and re-queuing. Assign queue positions. Update queuedAt timestamp. Save to CoreData.","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-11-14T19:23:24.765925-06:00","updated_at":"2025-11-14T19:30:44.144198-06:00","closed_at":"2025-11-14T19:30:44.144198-06:00","source_repo":".","dependencies":[{"issue_id":"voice-code-7cdf","depends_on_id":"voice-code-d749","type":"blocks","created_at":"2025-11-14T19:23:28.507054-06:00","created_by":"travisbrown"}]}
{"id":"voice-code-7f3a","content_hash":"8d346dbb5bcef8f904bf3a3f880b5c137a11e4b72e62df819a73b0689aab1eca","title":"Add stable view identities to prevent motion vectors","description":"DirectoryInfo instances recreated every render with same IDs, triggering SwiftUI motion vector calculations (O(N²) dictionary lookups). Current: directories computed property creates new DirectoryInfo instances → SwiftUI sees same id but different instances → calculates motion vectors to determine moves/inserts/deletes → 60+ items = 3600+ comparisons. Fix: Use cached @State arrays with explicit stable IDs (.id(directory.workingDirectory)). Location: ios/VoiceCode/Views/DirectoryListView.swift ForEach blocks","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-11-15T22:23:28.249806-06:00","updated_at":"2025-11-15T22:27:44.120431-06:00","closed_at":"2025-11-15T22:27:44.120431-06:00","source_repo":"."}
{"id":"voice-code-8223","content_hash":"49e276e0636a11d5c13588debef2cb61498529bdae1fbe81e5a03a7b1381e205","title":"Test queue section UI","description":"Test section appears between Recent and Projects. Test swipe-to-delete. Test empty queue hides section. Test queue disabled hides section.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-14T19:24:49.267547-06:00","updated_at":"2025-11-14T19:42:56.428191-06:00","closed_at":"2025-11-14T19:42:56.428191-06:00","source_repo":".","dependencies":[{"issue_id":"voice-code-8223","depends_on_id":"voice-code-3478","type":"blocks","created_at":"2025-11-14T19:24:52.813132-06:00","created_by":"travisbrown"}]}
{"id":"voice-code-8558","content_hash":"a6b4d316f42da6fa1440fc164ab35c03d8739ec9687cd96611ed01263a3f3069","title":"Fix N+1 query in RecentSessionRowContent","description":"RecentSessionRowContent performs synchronous CoreData fetch PER ROW during rendering. Current: 10 recent sessions = 10 individual CoreData queries in render cycle. session.displayName(using: viewContext) fetches CDSession for each row. Blocks main thread during layout. Fix: Pre-fetch all CDSession entities in single batch query when recentSessions updates, join data before rendering. Location: RecentSession.displayName(using:) called from RecentSessionRowContent.body","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-11-15T22:23:20.776613-06:00","updated_at":"2025-11-15T22:27:44.120544-06:00","closed_at":"2025-11-15T22:27:44.120544-06:00","source_repo":"."}
{"id":"voice-code-868d","content_hash":"bb2a17793619ebe9bc83dc3e9b8317878743154622ab39795eee88254f3af155","title":"Add queue management to ConversationView.sendPromptText()","description":"Call addToQueue() when queueEnabled and user sends message. Works for both text and voice input.","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-11-14T19:23:49.039074-06:00","updated_at":"2025-11-14T19:30:44.144736-06:00","closed_at":"2025-11-14T19:30:44.144736-06:00","source_repo":".","dependencies":[{"issue_id":"voice-code-868d","depends_on_id":"voice-code-7cdf","type":"blocks","created_at":"2025-11-14T19:23:53.094472-06:00","created_by":"travisbrown"},{"issue_id":"voice-code-868d","depends_on_id":"voice-code-f819","type":"blocks","created_at":"2025-11-14T19:23:53.105832-06:00","created_by":"travisbrown"}]}
{"id":"voice-code-98f0","content_hash":"3eb1a62f6fafad74ca0430aec0289ddec4dc1611198704eadf43f20efc84bbc5","title":"Backend: Handle get_command_history with tests","description":"Parse get_command_history message with optional working_directory filter and limit (default 50). Read index.edn, filter, sort by timestamp desc. Generate output_preview from first 200 chars of log file (strip markers, add ... if truncated). Return command_history message. Test filtering, sorting, preview generation, missing files.","notes":"Integration testing confirms this is fully implemented. Backend correctly handles get_command_history messages with filtering and limit parameters. Returns command_history response with sessions, timestamps, exit codes, and output previews. All functionality working as specified.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-05T11:51:41.37542-06:00","updated_at":"2025-11-08T12:31:06.458432-06:00","closed_at":"2025-11-08T12:31:06.458432-06:00","source_repo":".","dependencies":[{"issue_id":"voice-code-98f0","depends_on_id":"voice-code-2af7","type":"blocks","created_at":"2025-11-05T11:52:23.641095-06:00","created_by":"travisbrown"}]}
{"id":"voice-code-a8ce","content_hash":"b96b70aafc97f3443b9390200fb43ffb2c2ba8cb3379afadacfcb2ce57ba1e46","title":"Add queuedSessions computed property to DirectoryListView","description":"Filter sessions by isInQueue. Filter out locked sessions. Sort by queuePosition ascending (FIFO).","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-11-14T19:24:23.659409-06:00","updated_at":"2025-11-14T19:31:32.240682-06:00","closed_at":"2025-11-14T19:31:32.240682-06:00","source_repo":".","dependencies":[{"issue_id":"voice-code-a8ce","depends_on_id":"voice-code-d749","type":"blocks","created_at":"2025-11-14T19:24:27.295809-06:00","created_by":"travisbrown"}]}
{"id":"voice-code-ab65","content_hash":"10eeaa3604757c98dd76d1ef5af73694c5a965eb4d246831805a34cd3b3e6f1f","title":"Fix N+1 query in RecentSessionRowContent","description":"RecentSessionRowContent performs synchronous CoreData fetch PER ROW during rendering.\n\nCurrent: 10 recent sessions = 10 individual CoreData queries in render cycle\n- session.displayName(using: viewContext) fetches CDSession for each row\n- Blocks main thread during layout\n\nFix: Pre-fetch all CDSession entities in single batch query when recentSessions updates, join data before rendering.\n\nLocation: RecentSession.displayName(using:) called from RecentSessionRowContent.body\nImpact: Eliminates 10+ synchronous queries during each render","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-11-15T22:00:54.138735-06:00","updated_at":"2025-11-16T00:02:23.8199-06:00","closed_at":"2025-11-16T00:02:23.8199-06:00","source_repo":".","labels":["ios","p0","performance"]}
{"id":"voice-code-be56","content_hash":"da3092a7b704855fc8fd13806d2084171247d955e5da336a74f2798e79b089b4","title":"Cache DirectoryListView computed properties","description":"DirectoryListView.directories and queuedSessions recompute on every render, causing 90s CPU hangs.\n\nRoot cause: Computed properties re-run whenever ANY @Published property in VoiceCodeClient changes (9 properties total). During active sessions, lockedSessions updates multiple times/second, triggering expensive operations:\n- Dictionary(grouping:) on all sessions\n- 4 full iterations: grouping + map + reduce + sorted  \n- 50 sessions × 4 = 200 traversals per render\n- New DirectoryInfo instances → SwiftUI motion vector calculations\n\nFix: Use @State cached values, update only when dependencies actually change.\n\nLocation: ios/VoiceCode/Views/DirectoryListView.swift:37-79\nImpact: Eliminates 90s hang, reduces re-renders by 78%","notes":"Implemented @State caching for directories and queuedSessions computed properties. Cache updates via onChange handlers for sessions.count and client.lockedSessions. Eliminates 200+ traversals per render. Tests created in DirectoryListViewCachingTests.swift.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-11-15T22:00:52.315558-06:00","updated_at":"2025-11-15T23:18:56.931277-06:00","closed_at":"2025-11-15T23:18:56.93128-06:00","source_repo":".","labels":["ios","p0","performance"]}
{"id":"voice-code-cf18","content_hash":"5bfe3163be99aad4bb8eb6e958ef609c276dda8054cad29186dca26b04f2fa5f","title":"Test edge case: deleted session in queue","description":"Add session to queue, delete session, verify it disappears from queue display.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-14T19:25:15.654117-06:00","updated_at":"2025-11-14T19:42:56.42921-06:00","closed_at":"2025-11-14T19:42:56.42921-06:00","source_repo":".","dependencies":[{"issue_id":"voice-code-cf18","depends_on_id":"voice-code-3478","type":"blocks","created_at":"2025-11-14T19:25:19.165014-06:00","created_by":"travisbrown"}]}
{"id":"voice-code-cfdc","content_hash":"f76b998d2e88bc4f9e443edf5ce0b3420d95ea51fb11c590a4fd712a65ce68a9","title":"iOS: Create Share Extension target","description":"Create Share Extension with App Group integration for file saving","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-11-10T09:59:52.379089-06:00","updated_at":"2025-11-10T10:26:39.48613-06:00","closed_at":"2025-11-10T10:26:39.48613-06:00","source_repo":"."}
{"id":"voice-code-d749","content_hash":"1897683b6aa619efa4129600aa69b82d30499fbc1c08f77b859837bc45e52389","title":"Add @NSManaged queue properties to CDSession.swift","description":"Add isInQueue, queuePosition, queuedAt properties to CDSession model class","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-14T19:22:47.831923-06:00","updated_at":"2025-11-14T19:28:38.795341-06:00","closed_at":"2025-11-14T19:28:38.795341-06:00","source_repo":"."}
{"id":"voice-code-d875","content_hash":"c4e7c8639312fff64cb544a3588c0b40af343411f344f310524d4485acd6570d","title":"Cache DirectoryListView computed properties","description":"DirectoryListView.directories and queuedSessions recompute on every render, causing 90s CPU hangs. Root cause: Computed properties re-run whenever ANY @Published property in VoiceCodeClient changes (9 properties total). During active sessions, lockedSessions updates multiple times/second, triggering expensive operations. Fix: Use @State cached values, update only when dependencies actually change. Location: ios/VoiceCode/Views/DirectoryListView.swift:37-79","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-11-15T22:23:08.199083-06:00","updated_at":"2025-11-15T22:27:44.120749-06:00","closed_at":"2025-11-15T22:27:44.120749-06:00","source_repo":"."}
{"id":"voice-code-db3a","content_hash":"12453aedb2d2c4307100d58ad40a7abd52ec7038d0396092e207cbe18a6d8951","title":"Test sending message adds thread to queue","description":"Test text input adds to queue. Test voice input adds to queue. Test sends to already-queued thread move it to end.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-14T19:23:57.916087-06:00","updated_at":"2025-11-14T19:42:56.429027-06:00","closed_at":"2025-11-14T19:42:56.429027-06:00","source_repo":".","dependencies":[{"issue_id":"voice-code-db3a","depends_on_id":"voice-code-868d","type":"blocks","created_at":"2025-11-14T19:24:01.254442-06:00","created_by":"travisbrown"}]}
{"id":"voice-code-e6bd","content_hash":"9a298b04ad2a3071914274661bb08e1e48905ca72296576962142c74350b1634","title":"Frontend: Command history viewer with tests","description":"Create CommandHistoryView: send get_command_history on appear, display list with timestamp, duration, exit status, output preview. Pull-to-refresh support. Tap entry to fetch full output via get_command_output. Create CommandOutputDetailView with full output, metadata, share/copy buttons. Test history loading, filtering, full output fetch, UI interactions.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-05T11:52:01.158227-06:00","updated_at":"2025-11-08T15:59:34.242548-06:00","closed_at":"2025-11-08T15:59:34.242548-06:00","source_repo":".","dependencies":[{"issue_id":"voice-code-e6bd","depends_on_id":"voice-code-296b","type":"blocks","created_at":"2025-11-05T11:52:25.579871-06:00","created_by":"travisbrown"}]}
{"id":"voice-code-e7f6","content_hash":"2dbfab8ca20d9844facc6b5d26feefb905c06147979553371554fc58de384243","title":"Test lock state filtering in queue","description":"Test locked sessions hidden from queue. Test unlocked sessions appear. Test lock/unlock transitions update queue display.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-14T19:24:31.840734-06:00","updated_at":"2025-11-14T19:38:27.588868-06:00","closed_at":"2025-11-14T19:38:27.588868-06:00","source_repo":".","dependencies":[{"issue_id":"voice-code-e7f6","depends_on_id":"voice-code-a8ce","type":"blocks","created_at":"2025-11-14T19:24:36.097246-06:00","created_by":"travisbrown"}]}
{"id":"voice-code-e9b3","content_hash":"cd694c5aca339e8b4198b27065d4ba2dac9ea9efdf62a6c8df459dc0f2e13cb1","title":"Integration tests: Backend command execution flow","description":"Test full backend flow: parse Makefile -\u003e send available_commands -\u003e execute_command -\u003e stream output -\u003e store history -\u003e retrieve history/output. Test with real Makefile, verify message sequence, output correctness, history persistence. Test error scenarios, concurrent execution, WebSocket disconnects during execution.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-05T11:52:12.341959-06:00","updated_at":"2025-11-05T16:39:58.317257-06:00","closed_at":"2025-11-05T16:39:58.317259-06:00","source_repo":".","dependencies":[{"issue_id":"voice-code-e9b3","depends_on_id":"voice-code-ef42","type":"blocks","created_at":"2025-11-05T11:52:27.223709-06:00","created_by":"travisbrown"},{"issue_id":"voice-code-e9b3","depends_on_id":"voice-code-98f0","type":"blocks","created_at":"2025-11-05T11:52:27.234684-06:00","created_by":"travisbrown"}]}
{"id":"voice-code-ee18","content_hash":"36ef09c69cca1c82b7d217e2637c587b8cebac4577aa7d6bc31ae4c459e6678e","title":"Backend: Send available_commands message with tests","description":"Handle connected and set_directory messages to send available_commands. Call parse-makefile for project_commands. Include hardcoded general_commands (git.status). Convert kebab-case to snake_case. Test message format, key conversion, and directory change triggers.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-05T11:51:21.874554-06:00","updated_at":"2025-11-05T16:01:56.038173-06:00","closed_at":"2025-11-05T16:01:56.038174-06:00","source_repo":".","dependencies":[{"issue_id":"voice-code-ee18","depends_on_id":"voice-code-0f5f","type":"blocks","created_at":"2025-11-05T11:52:23.607647-06:00","created_by":"travisbrown"}]}
{"id":"voice-code-ef42","content_hash":"22739655d05d8b565ac9bc2c7b71b2134495c2dfaa446c1a8a7f5cafd3a2c1b3","title":"Backend: Handle get_command_output with tests","description":"Parse get_command_output message. Look up metadata in index.edn. Read full output from log file (strip stream markers). Return command_output_full with clean output and metadata. Enforce 10MB output limit. Test full output retrieval, marker stripping, large files, missing sessions, error cases.","notes":"Integration testing confirms this is fully implemented. Backend correctly handles get_command_output messages, retrieves full output from log files, strips stream markers ([stdout]/[stderr]), and returns command_output_full with clean output and metadata. All functionality working as specified.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-05T11:51:42.052543-06:00","updated_at":"2025-11-08T12:31:15.742368-06:00","closed_at":"2025-11-08T12:31:15.742368-06:00","source_repo":".","dependencies":[{"issue_id":"voice-code-ef42","depends_on_id":"voice-code-2af7","type":"blocks","created_at":"2025-11-05T11:52:23.651683-06:00","created_by":"travisbrown"}]}
{"id":"voice-code-ef8f","content_hash":"c56f841f49d7b7b91cc0ac76cf1ae0ac4fc5a602c57db046df54d43379c2dccc","title":"Frontend: Command execution streaming UI with tests","description":"Create CommandExecutionView for active command sessions. Display real-time streaming output with stdout/stderr distinction. Show status (running/completed), duration, exit code. Support concurrent sessions (no locking). Handle command_output messages incrementally. Auto-scroll output. Test streaming updates, concurrent sessions, UI state, error handling.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-05T11:52:00.148999-06:00","updated_at":"2025-11-08T12:54:45.428266-06:00","closed_at":"2025-11-08T12:54:45.428266-06:00","source_repo":".","dependencies":[{"issue_id":"voice-code-ef8f","depends_on_id":"voice-code-296b","type":"blocks","created_at":"2025-11-05T11:52:25.561569-06:00","created_by":"travisbrown"}]}
{"id":"voice-code-f544","content_hash":"f860a8f9e22232136f757939b6c13aca23f16c7391d63b12f23c1d8baea6b615","title":"Add stable view identities to prevent motion vectors","description":"DirectoryInfo instances recreated every render with same IDs, triggering SwiftUI motion vector calculations (O(N²) dictionary lookups).\n\nCurrent: directories computed property creates new DirectoryInfo instances → SwiftUI sees same id but different instances → calculates motion vectors to determine moves/inserts/deletes → 60+ items = 3600+ comparisons\n\nStack trace evidence:\n- LazyStack.initialPlacement\n- Array.motionVectors (60+ items, dictionary lookups)\n- swift_release_n (null pointer crash during cleanup)\n\nFix: Use cached @State arrays with explicit stable IDs (.id(directory.workingDirectory))\n\nLocation: ios/VoiceCode/Views/DirectoryListView.swift ForEach blocks\nImpact: Eliminates motion vector recalculation, prevents O(N²) lookups","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-11-15T22:00:54.819959-06:00","updated_at":"2025-11-15T23:58:57.8036-06:00","closed_at":"2025-11-15T23:58:57.8036-06:00","source_repo":".","labels":["ios","p0","performance"]}
{"id":"voice-code-f819","content_hash":"4db0374057d3e80cd0e65c65af886140162342574f57605590c1fedbdc8bbd95","title":"Add queueEnabled setting to AppSettings","description":"Add @Published queueEnabled Bool property with UserDefaults persistence. Default to false.","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-11-14T19:23:08.082252-06:00","updated_at":"2025-11-14T19:28:19.089441-06:00","closed_at":"2025-11-14T19:28:19.089441-06:00","source_repo":"."}
{"id":"voice-code-fc17","content_hash":"380d4d4f503f9bdb25362bb3db4d4c9d783759f57828be5b36d21d6ef6da2c64","title":"Test queue state persistence across app restarts","description":"Add threads to queue, force-quit app, restart, verify queue state restored correctly.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-14T19:25:06.678129-06:00","updated_at":"2025-11-14T19:42:56.429376-06:00","closed_at":"2025-11-14T19:42:56.429376-06:00","source_repo":".","dependencies":[{"issue_id":"voice-code-fc17","depends_on_id":"voice-code-3478","type":"blocks","created_at":"2025-11-14T19:25:10.600103-06:00","created_by":"travisbrown"}]}
