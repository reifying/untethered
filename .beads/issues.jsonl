{"id":"VCMOB-031","title":"Recipes View Implementation","description":"Implement the recipes view for recipe orchestration.\n\nRequirements:\n- Create frontend/src/voice_code/views/recipes.cljs\n- List available recipes from subscription\n- Show active recipe status\n- Start/stop recipe execution UI\n- Recipe progress display\n- Add screen to navigation in views/core.cljs\n\nReference:\n- Design doc lists recipes.cljs in project structure  \n- Backend already handles available_recipes, recipe_started, recipe_exited messages\n- Event handlers already exist in websocket.cljs","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-17T11:04:44.074042-06:00","created_by":"travisbrown","updated_at":"2026-01-17T11:10:49.07666-06:00","closed_at":"2026-01-17T11:10:49.07666-06:00","close_reason":"Implemented resources.cljs and recipes.cljs views with full UI, event handlers, and navigation integration"}
{"id":"VCMOB-1i4","title":"[UI Bug] Navigation crash - Cannot read property navigate of undefined","description":"## Error\nUncaught Error: Cannot read property 'navigate' of undefined\n\n## Severity\nSYSTEMIC - affects nearly all navigation actions. Occurs repeatedly (Log 4 of 4, Log 5 of 5 observed).\n\n## Call Stack (partial)\n- loadModuleImplementation (require.js:238)\n- _performTransitionSideEffects (Pressability.js:758)\n- _receiveSignal (Pressability.js:697)\n- responderEventHandlers.onResponderRelease\n\n## Likely Cause\nSomething is calling navigate() when nav-ref is undefined. Possibilities:\n1. A useEffect or subscription callback tries to navigate before NavigationContainer mounts\n2. Hot reload invalidates the nav-ref but components still hold stale reference\n3. Error boundary or toast component tries to navigate on error\n\n## Reproduction\nAlmost any navigation action triggers this:\n- Navigate to SessionList with empty params\n- Navigate to CommandExecution\n- General navigation flow\n\n## Impact\nBlocks normal app usage - error overlay appears frequently","status":"closed","priority":0,"issue_type":"bug","created_at":"2026-01-17T23:47:30.380239-06:00","created_by":"travisbrown","updated_at":"2026-01-18T00:16:59.00433-06:00","closed_at":"2026-01-18T00:16:59.00433-06:00","close_reason":"Closed","dependencies":[{"issue_id":"VCMOB-1i4","depends_on_id":"VCMOB-46u","type":"blocks","created_at":"2026-01-17T23:52:21.463414-06:00","created_by":"travisbrown"}]}
{"id":"VCMOB-3hr","title":"[UI Bug] Persistent REPL exception toast errors","description":"## Symptom\nToast showing 'REPL Invoke Exception Error: No protocol m...' with incrementing badge count\n\n## Behavior\n- Persists across all screens\n- Obscures voice buttons on Conversation screen\n- Badge count increments over time\n\n## Likely Cause\nClojureScript protocol errors bubbling up to error toast system","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-17T23:44:27.385671-06:00","created_by":"travisbrown","updated_at":"2026-01-18T00:18:05.736938-06:00","closed_at":"2026-01-18T00:18:05.736938-06:00","close_reason":"Development-time shadow-cljs REPL error display, not a production code bug. Toasts appear when REPL evaluation fails during development."}
{"id":"VCMOB-3vw","title":"Android Build Verification","description":"Verify the app builds and runs correctly on Android.\n\nRequired:\n- Build APK successfully\n- Test on Android emulator\n- Verify WebSocket connectivity\n- Test all screens and functionality\n- Fix any Android-specific issues","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-18T10:26:31.462437-06:00","created_by":"travisbrown","updated_at":"2026-01-18T10:26:31.462437-06:00","dependencies":[{"issue_id":"VCMOB-3vw","depends_on_id":"VCMOB-nw9","type":"blocks","created_at":"2026-01-18T10:26:40.654398-06:00","created_by":"travisbrown"}]}
{"id":"VCMOB-41c","title":"[Infra] iOS simulator can't connect to Metro bundler","description":"The iOS simulator shows 'No script URL provided' error when trying to load the React Native app.\n\n**Symptoms:**\n- App shows red screen with 'No script URL provided'\n- unsanitizedScriptURLString = (null)\n\n**Investigation:**\n- Metro is running on port 8081 and serving bundles correctly (verified via curl)\n- shadow-cljs is running and compiling\n- The issue is network connectivity between simulator and localhost\n\n**Potential causes:**\n- RCTBundleURLProvider settings\n- Simulator network configuration\n- Need to use machine IP instead of localhost\n\n**Workaround:**\nMay need to configure the bundle URL in Debug menu or use the machine's IP address.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-18T01:50:58.649157-06:00","created_by":"travisbrown","updated_at":"2026-01-18T10:37:16.423587-06:00","closed_at":"2026-01-18T10:37:16.423587-06:00","close_reason":"iOS simulator successfully connects to Metro bundler - app displays auth screen correctly"}
{"id":"VCMOB-46u","title":"[UI Bug] Unsafe navigation calls - missing nil checks","description":"## Problem\nMultiple views call .navigate on the navigation prop without checking if it exists.\n\n## Affected Files\n- directory_list.cljs: settings-button uses (.navigate navigation ...) without guard\n- session_list.cljs: commands-button and render-item use (.navigate navigation ...) without guard  \n- command_menu.cljs: command on-press handlers use (.navigate navigation ...) without guard\n\n## Root Cause\nThe navigation prop can be undefined during:\n- Hot reload (stale references)\n- Component mounting race conditions\n- Module loading\n\n## Fix\nWrap all .navigate calls:\n```clojure\n(when navigation\n  (.navigate navigation \"ScreenName\" params))\n```\n\nOr use the safe navigate! function from voice-code.views.core:\n```clojure\n(voice-code.views.core/navigate! \"ScreenName\" params)\n```\n\n## Related\nThis is the root cause of VCMOB-1i4 (navigation crash)","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-17T23:52:11.679989-06:00","created_by":"travisbrown","updated_at":"2026-01-18T00:16:59.002624-06:00","closed_at":"2026-01-18T00:16:59.002624-06:00","close_reason":"Closed"}
{"id":"VCMOB-ada","title":"[UI Bug] Connection error displays as [object Object]","description":"## Steps to Reproduce\n1. Connect to backend with an error state\n2. View Settings screen\n\n## Expected\nError field shows readable message\n\n## Actual\nShows '[object Object]'\n\n## Fix\nExtract .-message from error object before storing","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-17T23:44:26.205845-06:00","created_by":"travisbrown","updated_at":"2026-01-18T00:16:59.005422-06:00","closed_at":"2026-01-18T00:16:59.005422-06:00","close_reason":"Closed"}
{"id":"VCMOB-d6k","title":"Implement QR Code Scanner for Auth","description":"Implement QR code scanning for API key authentication.\n\nCurrent state: auth/scan-qr event exists but does nothing.\n\nRequired:\n- Add QR code scanning library (react-native-camera or expo-barcode-scanner)\n- Implement scan UI\n- Parse QR code containing server URL, port, and API key\n- Connect using scanned credentials","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-18T10:26:30.814316-06:00","created_by":"travisbrown","updated_at":"2026-01-18T10:26:30.814316-06:00"}
{"id":"VCMOB-dxi","title":"Resources View Implementation","description":"Implement the resources view for uploaded files management.\n\nRequirements:\n- Create frontend/src/voice_code/views/resources.cljs\n- List uploaded resources from subscription\n- Show pending uploads indicator\n- Delete resources functionality\n- Navigate to resources from session view\n- Add screen to navigation in views/core.cljs\n\nReference:\n- Design doc lists resources.cljs in project structure\n- Backend already handles resources_list, file_uploaded, resource_deleted messages\n- Event handlers already exist in websocket.cljs","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-17T11:04:38.35297-06:00","created_by":"travisbrown","updated_at":"2026-01-17T11:10:49.075636-06:00","closed_at":"2026-01-17T11:10:49.075636-06:00","close_reason":"Implemented resources.cljs and recipes.cljs views with full UI, event handlers, and navigation integration"}
{"id":"VCMOB-e5q","title":"Phase 5: Voice Integration","description":"Implement voice input/output for the React Native app.\n\nRequirements:\n- Create voice-code.voice namespace\n- Speech recognition using @react-native-voice/voice\n- Text-to-speech using react-native-tts\n- re-frame events and effect handlers for voice\n- Setup voice recognition listeners\n- TTS configuration (language, rate, etc.)\n\nFiles to Create:\n- frontend/src/voice_code/voice.cljs\n- frontend/test/voice_code/voice_test.cljs\n\nReference: docs/design/clojurescript-react-native-pilot.md Phase 5\n\nDepends on native projects being initialized first.","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-17T11:04:30.234448-06:00","created_by":"travisbrown","updated_at":"2026-01-17T11:04:30.234448-06:00","dependencies":[{"issue_id":"VCMOB-e5q","depends_on_id":"VCMOB-nw9","type":"blocks","created_at":"2026-01-17T11:04:50.293366-06:00","created_by":"travisbrown"}]}
{"id":"VCMOB-i3u","title":"[UI Bug] App shows blank white screen after restart","description":"## Symptom\nAfter app restart (make rn-restart), app shows blank white screen and doesn't load.\n\n## Environment\n- Shadow-cljs watch is running (port 9630)\n- Metro is not responding on port 8081\n- REPL shows 'No available JS runtime'\n\n## Likely Cause\nMetro bundler not running or app can't connect to JS bundle server.\n\n## Impact\nComplete app failure - no UI loads after restart.","status":"closed","priority":0,"issue_type":"bug","created_at":"2026-01-17T23:54:54.189764-06:00","created_by":"travisbrown","updated_at":"2026-01-18T00:17:30.462036-06:00","closed_at":"2026-01-18T00:17:30.462036-06:00","close_reason":"Environment issue - Metro bundler not running, not a code bug"}
{"id":"VCMOB-ioh","title":"[UI Bug] SessionList shows 'No Sessions' despite data being available in subscription","description":"## Description\nSessionList and Conversation views show empty state despite subscriptions containing data.\n\n## Affected Views\n1. **SessionList** - Shows 'No Sessions' when subscription has 20 sessions\n2. **Conversation** - Shows 'Start a Conversation' when subscription has 54 messages\n\n## Root Cause\nLikely Reagent reactivity issue with `r/reactify-component` wrapper used for React Navigation screens. The reactive context may not be properly established when components are created through React Navigation.\n\n## Additional Finding\nMessages in the subscription have nil `:text` and `:role` fields - possible data parsing issue from WebSocket message handling.\n\n## Steps to Reproduce\n1. Authenticate via REPL\n2. Navigate to SessionList or Conversation\n3. Observe empty state despite subscription returning data\n\n## Technical Analysis\n```clojure\n;; Subscription returns correct data:\n@(rf/subscribe [:sessions/for-directory \"/path\"]) ;; =\u003e 20 sessions\n@(rf/subscribe [:messages/for-session id]) ;; =\u003e 54 messages\n\n;; But components check (empty? sessions) or (empty? messages) =\u003e true\n```\n\n## Impact\nP1 - Core functionality broken. Users cannot see sessions or messages.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-18T01:31:08.008753-06:00","created_by":"travisbrown","updated_at":"2026-01-18T08:25:27.672004-06:00","closed_at":"2026-01-18T08:25:27.672004-06:00","close_reason":"Fixed by converting all view components to Form-2 pattern. The root cause was subscriptions being read in the outer function scope of components wrapped with r/reactify-component for React Navigation. Moving subscriptions into the inner render function establishes proper Reagent reactive context."}
{"id":"VCMOB-lme","title":"Implement Real SQLite Persistence","description":"Replace stub implementation with real SQLite using react-native-sqlite-storage.\n\nCurrent state: persistence.cljs has in-memory stubs that work for testing.\n\nRequired:\n- Implement actual SQLite database operations\n- Test on device/simulator\n- Handle migration if schema changes\n- Ensure data persists across app restarts","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-18T10:26:29.182368-06:00","created_by":"travisbrown","updated_at":"2026-01-18T10:26:29.182368-06:00","dependencies":[{"issue_id":"VCMOB-lme","depends_on_id":"VCMOB-nw9","type":"blocks","created_at":"2026-01-18T10:26:37.717928-06:00","created_by":"travisbrown"}]}
{"id":"VCMOB-lr1","title":"Implement Keychain API Key Storage","description":"Replace stub implementation with real Keychain storage using react-native-keychain.\n\nCurrent state: keychain operations store in memory (stub mode).\n\nRequired:\n- Implement real Keychain store/retrieve/delete\n- Test on device/simulator\n- Handle Keychain access errors gracefully","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T10:26:29.956274-06:00","created_by":"travisbrown","updated_at":"2026-01-18T10:42:20.534839-06:00","closed_at":"2026-01-18T10:42:20.534839-06:00","close_reason":"Implemented real react-native-keychain integration with dynamic module loading for Node.js test compatibility","dependencies":[{"issue_id":"VCMOB-lr1","depends_on_id":"VCMOB-nw9","type":"blocks","created_at":"2026-01-18T10:26:38.747342-06:00","created_by":"travisbrown"}]}
{"id":"VCMOB-lu0","title":"[UI Bug] DirectoryList session count not displayed - clj-\u003ejs key conversion issue","description":"## Steps to Reproduce\n1. Open the app\n2. View the Projects (DirectoryList) screen\n3. Observe each directory item shows 'sessions' without a number\n\n## Expected Behavior\nEach directory item should show the session count, e.g., '3 sessions' or '1 session'\n\n## Actual Behavior\nEach directory item just shows 'sessions' with no count\n\n## Screenshot\n/tmp/test-screenshot-1.png\n\n## Root Cause\nIn directory_list.cljs, the render-item function uses:\n```clojure\n:session-count (.-sessionCount item)\n```\n\nBut `clj-\u003ejs` converts `{:session-count 5}` to JavaScript object with key `\"session-count\"` (preserves kebab-case as string), NOT `sessionCount`.\n\n## Fix\nChange the property access from:\n```clojure\n:session-count (.-sessionCount item)\n:last-modified (.-lastModified item)\n```\nto:\n```clojure\n:session-count (aget item \"session-count\")\n:last-modified (aget item \"last-modified\")\n```\n\nOr use `:keywordize-keys` option when converting.\n\n## Additional Context\n- File: frontend/src/voice_code/views/directory_list.cljs\n- Function: directory-list-view, render-item callback\n- Same issue likely affects last-modified display","status":"closed","priority":0,"issue_type":"bug","created_at":"2026-01-17T22:25:24.63116-06:00","created_by":"travisbrown","updated_at":"2026-01-18T00:16:59.004885-06:00","closed_at":"2026-01-18T00:16:59.004885-06:00","close_reason":"Closed"}
{"id":"VCMOB-nw9","title":"Phase 6: Initialize Native iOS/Android Projects","description":"Initialize native iOS and Android projects for React Native.\n\nRequirements:\n- Create native projects using react-native init\n- Configure iOS project in frontend/ios/\n- Configure Android project in frontend/android/\n- Install and link native dependencies\n- Install CocoaPods for iOS\n- Configure shadow-cljs hot reload with Metro bundler\n\nTesting:\n- App builds and runs on iOS simulator\n- App builds and runs on Android emulator\n- shadow-cljs REPL connects to running app\n\nReference: docs/design/clojurescript-react-native-pilot.md Phase 6","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-17T11:04:23.283788-06:00","created_by":"travisbrown","updated_at":"2026-01-18T10:39:14.469612-06:00","closed_at":"2026-01-18T10:39:14.469612-06:00","close_reason":"iOS native project fully working on simulator with shadow-cljs REPL. App displays and functions correctly. Android verification tracked separately in VCMOB-3vw."}
{"id":"VCMOB-q92","title":"[UI Bug] Screen frozen on CommandExecution - navigation/auth state changes don't trigger re-render","description":"## Description\nThe UI becomes completely frozen on the CommandExecution screen and does not respond to any navigation or authentication state changes.\n\n## Steps to Reproduce\n1. App is showing CommandExecution screen (from previous command)\n2. Authenticate via REPL\n3. Attempt to navigate to any screen via `navigate!` or `.reset`\n4. Navigation state changes (verified via `.getState`) but UI doesn't update\n\n## Observed Behavior\n- Navigation state shows `{:index 2, :routes [DirectoryList, Settings, DirectoryList]}`\n- UI continues to show CommandExecution screen (not in routes array!)\n- Setting `authenticated? false` doesn't show auth-view\n- `.reset` with new routes doesn't update display\n\n## Expected Behavior\n- Navigation should update displayed screen\n- Auth state change should switch between auth-view and NavigationContainer\n\n## Technical Details\n- nav-ref.getState() returns correct state\n- re-frame subscriptions return correct values\n- React component tree not re-rendering\n- re-frame warning visible: \"no :event handler registered for: (...)\"\n\n## Impact\nP0 - App unusable when this state occurs. Requires app restart to recover.","status":"closed","priority":0,"issue_type":"bug","created_at":"2026-01-18T01:21:49.019203-06:00","created_by":"travisbrown","updated_at":"2026-01-18T08:25:27.25226-06:00","closed_at":"2026-01-18T08:25:27.25226-06:00","close_reason":"Fixed by converting all view components to Form-2 pattern (inner render function) so subscriptions are read inside a reactive context. This ensures React Navigation screens properly re-render when re-frame subscriptions change."}
{"id":"VCMOB-r0q","title":"[UI Bug] Voice buttons not visible on Conversation screen","description":"## Expected\nGreen and blue voice FAB buttons should appear on Conversation screen\n\n## Actual  \nOnly text input visible, no voice buttons\n\n## State at time of bug\n- locked-sessions: #{}\n- active-session: nil\n- voice-identifier: nil\n\n## Possible cause\nVoice buttons may be conditionally hidden based on configuration or platform","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-18T00:04:33.666268-06:00","created_by":"travisbrown","updated_at":"2026-01-18T00:18:07.074961-06:00","closed_at":"2026-01-18T00:18:07.074961-06:00","close_reason":"Voice buttons depend on Phase 5 Voice Integration (VCMOB-e5q) which is not yet implemented","dependencies":[{"issue_id":"VCMOB-r0q","depends_on_id":"VCMOB-e5q","type":"blocks","created_at":"2026-01-18T00:17:08.501731-06:00","created_by":"travisbrown"}]}
