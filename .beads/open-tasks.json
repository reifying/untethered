[
  {
    "id": "voice-code-60",
    "title": "iOS: Add reconnection logic",
    "description": "Detect WebSocket disconnections. Automatically reconnect on app resume/foregrounding. Implement exponential backoff for reconnection attempts. Update connection status indicators in UI. Handle network changes gracefully.",
    "status": "open",
    "priority": 0,
    "issue_type": "feature",
    "created_at": "2025-10-15T07:57:41.950176-05:00",
    "updated_at": "2025-10-15T07:57:41.950176-05:00"
  },
  {
    "id": "voice-code-59",
    "title": "Backend: Track message delivery",
    "description": "Mark messages as 'delivered' when sent to iOS. Store delivery timestamp and WebSocket session info. Only replay 'undelivered' messages on reconnection. Add delivery status to message metadata (pending/delivered/failed).",
    "notes": "Track message delivery with simple acknowledgment protocol. When iOS receives a message, it sends ACK. Backend removes message from undelivered queue. No complex sequence numbers needed - just delivery confirmation. Keep delivery simple: pending → delivered → removed.",
    "status": "open",
    "priority": 0,
    "issue_type": "feature",
    "created_at": "2025-10-15T07:57:39.818053-05:00",
    "updated_at": "2025-10-15T09:37:18.746333-05:00"
  },
  {
    "id": "voice-code-58",
    "title": "iOS: Implement message replay handling",
    "description": "Process 'replay' messages from backend. Merge replayed messages into local session. Prevent duplicate messages using message UUIDs. Update SessionManager to handle message merging. Update UI to show replayed messages.",
    "notes": "Handle replayed messages on reconnection. Receive undelivered messages from backend queue. Send ACK for each message received. Update local SessionManager (iOS already persists its own message history). Don't worry about duplicates - just append and ACK.",
    "status": "open",
    "priority": 0,
    "issue_type": "feature",
    "created_at": "2025-10-15T07:57:37.410958-05:00",
    "updated_at": "2025-10-15T09:37:21.708978-05:00"
  },
  {
    "id": "voice-code-57",
    "title": "iOS: Send session UUID on connect",
    "description": "Modify VoiceCodeClient to send iOS session UUID in connection handshake. Send 'reconnect' message after WebSocket connects with session UUID. Update connection flow to wait for replay before accepting new prompts.",
    "status": "open",
    "priority": 0,
    "issue_type": "feature",
    "created_at": "2025-10-15T07:57:25.786841-05:00",
    "updated_at": "2025-10-15T07:57:25.786841-05:00"
  },
  {
    "id": "voice-code-56",
    "title": "Backend: Handle reconnection",
    "description": "Process 'reconnect' messages with iOS session UUID. Look up existing session or create new one. Associate WebSocket channel with session. Send buffered undelivered messages via 'replay' messages. Handle reconnection errors gracefully.",
    "status": "open",
    "priority": 0,
    "issue_type": "feature",
    "created_at": "2025-10-15T07:57:23.32322-05:00",
    "updated_at": "2025-10-15T07:57:23.32322-05:00"
  },
  {
    "id": "voice-code-55",
    "title": "Protocol: Define reconnection message format",
    "description": "Design message types: 'reconnect' (iOS→Backend with session UUID), 'replay' (Backend→iOS with buffered messages). Add message sequence numbers for tracking. Define JSON schema for all message types. Update STANDARDS.md with protocol spec.",
    "notes": "Define simple reconnection protocol: 'reconnect' message (iOS→Backend) contains iOS session UUID. Backend looks up Claude session ID, sends any undelivered messages. Add 'message_ack' type for delivery confirmation. Keep protocol minimal - no complex sequencing since Claude maintains full history.",
    "status": "open",
    "priority": 0,
    "issue_type": "feature",
    "created_at": "2025-10-15T07:57:21.663059-05:00",
    "updated_at": "2025-10-15T09:37:20.227982-05:00"
  },
  {
    "id": "voice-code-54",
    "title": "Backend: Add session lifecycle management",
    "description": "Load all sessions on backend startup. Save sessions on changes (new messages, delivery status updates). Implement graceful shutdown with session persistence. Add session metadata tracking (created, last active, message count).",
    "status": "open",
    "priority": 0,
    "issue_type": "feature",
    "created_at": "2025-10-15T07:57:08.305225-05:00",
    "updated_at": "2025-10-15T07:57:08.305225-05:00"
  },
  {
    "id": "voice-code-53",
    "title": "Backend: Implement message buffering",
    "description": "Store all messages (user prompts + assistant responses) in sessions. Add message metadata: UUID, sequence number, timestamp, delivery status. Track which messages have been delivered to iOS client.",
    "notes": "Implement minimal undelivered message queue. Store ONLY messages not yet delivered to iOS client. Once iOS acknowledges receipt, delete from queue. Messages should have: UUID, role, text, timestamp. NO full conversation history - Claude is source of truth via --resume.",
    "status": "open",
    "priority": 0,
    "issue_type": "feature",
    "created_at": "2025-10-15T07:57:07.226394-05:00",
    "updated_at": "2025-10-15T09:37:17.64997-05:00"
  },
  {
    "id": "voice-code-52",
    "title": "Backend: Create persistent session storage",
    "description": "Implement EDN-based session storage using iOS session UUID as key. Store sessions with messages, delivery status, Claude session ID, working directory. Replace in-memory atom with persistent storage layer. Sessions should survive backend restarts.",
    "notes": "Implement minimal EDN-based session storage. Store iOS session UUID → Claude session ID mapping, working directory, and creation/activity timestamps. DO NOT duplicate conversation history (Claude stores this). Store only: session mappings, undelivered message queue, connection state.",
    "status": "open",
    "priority": 0,
    "issue_type": "feature",
    "created_at": "2025-10-15T07:57:06.238578-05:00",
    "updated_at": "2025-10-15T09:37:16.623109-05:00"
  },
  {
    "id": "voice-code-51",
    "title": "Implement session persistence and message replay on reconnection",
    "description": "When app resumes or restarts, reconnect to Claude Code socket and receive any messages that arrived while disconnected. Handle long-running tasks (20+ min) where responses arrive after app was closed. Support multiple concurrent Claude Code sessions with unique identifiers that persist across restarts. Each session should be able to reconnect and retrieve missed messages.",
    "notes": "SIMPLIFIED DESIGN: Don't duplicate Claude's session storage. Claude already stores full conversation history via --resume. We only need: (1) iOS UUID → Claude session ID mapping, (2) Undelivered message queue (minimal - just what hasn't been sent to iOS yet), (3) Delivery acknowledgments. Once iOS ACKs a message, remove from queue. Claude is source of truth for conversation history.",
    "status": "open",
    "priority": 0,
    "issue_type": "feature",
    "created_at": "2025-10-14T21:37:26.16152-05:00",
    "updated_at": "2025-10-15T09:37:35.486996-05:00"
  },
  {
    "id": "voice-code-47",
    "title": "Fix tilde expansion in working directory paths",
    "description": "The Examples shows ~/code/voice-code but the server fails with 'Cannot run program in directory ~/code/mono: No such file or directory'. Java's ProcessBuilder doesn't expand tildes - need to expand ~ to actual home directory in invoke-claude before passing to shell/sh",
    "status": "open",
    "priority": 0,
    "issue_type": "task",
    "created_at": "2025-10-14T21:17:39.392349-05:00",
    "updated_at": "2025-10-14T21:17:39.392349-05:00"
  },
  {
    "id": "voice-code-34",
    "title": "Test error scenarios (network drop, timeout, etc.)",
    "description": "",
    "status": "open",
    "priority": 0,
    "issue_type": "task",
    "created_at": "2025-10-13T22:17:34.265505-05:00",
    "updated_at": "2025-10-13T22:17:34.265505-05:00"
  },
  {
    "id": "voice-code-33",
    "title": "Test session switching",
    "description": "",
    "status": "open",
    "priority": 0,
    "issue_type": "task",
    "created_at": "2025-10-13T22:17:34.260707-05:00",
    "updated_at": "2025-10-13T22:17:34.260707-05:00"
  },
  {
    "id": "voice-code-32",
    "title": "Test text input workflow",
    "description": "",
    "status": "open",
    "priority": 0,
    "issue_type": "task",
    "created_at": "2025-10-13T22:17:34.256227-05:00",
    "updated_at": "2025-10-13T22:17:34.256227-05:00"
  },
  {
    "id": "voice-code-31",
    "title": "Test full voice workflow: speak → Claude → listen",
    "description": "",
    "status": "open",
    "priority": 0,
    "issue_type": "task",
    "created_at": "2025-10-13T22:17:34.251931-05:00",
    "updated_at": "2025-10-13T22:17:34.251931-05:00"
  },
  {
    "id": "voice-code-30",
    "title": "Set up Tailscale on server and iPhone",
    "description": "",
    "status": "open",
    "priority": 0,
    "issue_type": "task",
    "created_at": "2025-10-13T22:17:34.247689-05:00",
    "updated_at": "2025-10-13T22:17:34.247689-05:00"
  },
  {
    "id": "voice-code-67",
    "title": "Test: Concurrent sessions",
    "description": "Test multiple sessions from same iOS device. Test session isolation (messages don't cross sessions). Test WebSocket association correctness. Test session switching. Verify each session maintains independent state.",
    "status": "open",
    "priority": 1,
    "issue_type": "task",
    "created_at": "2025-10-15T07:58:43.714358-05:00",
    "updated_at": "2025-10-15T07:58:43.714358-05:00"
  },
  {
    "id": "voice-code-66",
    "title": "Test: Long-running tasks",
    "description": "Simulate 20+ minute Claude responses. Test app close/reopen during long task. Test task completion after disconnect. Test multiple simultaneous long tasks. Verify responses delivered correctly after reconnection.",
    "status": "open",
    "priority": 1,
    "issue_type": "task",
    "created_at": "2025-10-15T07:58:42.386662-05:00",
    "updated_at": "2025-10-15T07:58:42.386662-05:00"
  },
  {
    "id": "voice-code-65",
    "title": "Test: Message replay",
    "description": "Integration tests for reconnection scenarios. Test message replay without duplicates. Test sequence number tracking. Test replay with multiple missed messages. Test reconnection after various disconnect scenarios (network, app close, etc).",
    "notes": "Integration tests for reconnection. Test undelivered message replay. Test ACK protocol. Test reconnection after disconnect. Verify conversation continuity via Claude's --resume (not our storage). Test that delivered messages are removed from queue.",
    "status": "open",
    "priority": 1,
    "issue_type": "task",
    "created_at": "2025-10-15T07:58:41.294355-05:00",
    "updated_at": "2025-10-15T09:37:23.729179-05:00"
  },
  {
    "id": "voice-code-64",
    "title": "Test: Session persistence",
    "description": "Unit tests for session storage and loading. Test message buffering and retrieval. Test session metadata tracking. Test EDN serialization/deserialization. Test concurrent session access. Verify sessions survive backend restart.",
    "notes": "Test minimal session storage. Verify iOS UUID → Claude session ID mapping persists. Test undelivered queue operations (add, deliver, remove). Verify sessions survive backend restart. Test that we DON'T store full conversation history (that's Claude's job).",
    "status": "open",
    "priority": 1,
    "issue_type": "task",
    "created_at": "2025-10-15T07:58:40.166217-05:00",
    "updated_at": "2025-10-15T09:37:22.693356-05:00"
  },
  {
    "id": "voice-code-63",
    "title": "iOS: Handle delayed responses",
    "description": "Display loading indicators for in-progress tasks. Show task status in message list. Handle responses that arrive after app was closed/backgrounded. Show local notifications when long-running tasks complete. Update UI when delayed responses arrive.",
    "status": "open",
    "priority": 1,
    "issue_type": "feature",
    "created_at": "2025-10-15T07:57:58.624225-05:00",
    "updated_at": "2025-10-15T07:57:58.624225-05:00"
  },
  {
    "id": "voice-code-62",
    "title": "Backend: Task status tracking",
    "description": "Track running Claude tasks per session (started, in-progress, completed, failed). Add task metadata: start time, prompt text, status. Provide 'task-status' query API. Clean up completed task records after delivery.",
    "status": "open",
    "priority": 1,
    "issue_type": "feature",
    "created_at": "2025-10-15T07:57:56.967989-05:00",
    "updated_at": "2025-10-15T07:57:56.967989-05:00"
  },
  {
    "id": "voice-code-61",
    "title": "Backend: Continue tasks after disconnect",
    "description": "Keep Claude CLI invocations running even if WebSocket disconnects. Store responses in session when they complete. Associate running tasks with session UUID (not WebSocket channel). Add task completion callback that stores result in session.",
    "status": "open",
    "priority": 1,
    "issue_type": "feature",
    "created_at": "2025-10-15T07:57:54.965585-05:00",
    "updated_at": "2025-10-15T07:57:54.965585-05:00"
  },
  {
    "id": "voice-code-50",
    "title": "Enable text-to-speech playback when iPhone is locked",
    "description": "Configure AVAudioSession with playback category and enable Audio background mode so users can hear Claude Code responses even when their iPhone screen is locked. Requires: 1) Enable 'Audio \u0026 AirPlay' background capability in Xcode, 2) Set AVAudioSession category to .playback, 3) Handle iOS TTS background limitations (may stop after 30-60s, workaround with silence snippet)",
    "status": "open",
    "priority": 1,
    "issue_type": "feature",
    "created_at": "2025-10-14T21:32:52.98964-05:00",
    "updated_at": "2025-10-14T21:32:52.98964-05:00"
  },
  {
    "id": "voice-code-39",
    "title": "Test on different iPhone models/iOS versions",
    "description": "",
    "status": "open",
    "priority": 1,
    "issue_type": "task",
    "created_at": "2025-10-13T22:17:34.28829-05:00",
    "updated_at": "2025-10-13T22:17:34.28829-05:00"
  },
  {
    "id": "voice-code-38",
    "title": "Polish UI transitions",
    "description": "",
    "status": "open",
    "priority": 1,
    "issue_type": "task",
    "created_at": "2025-10-13T22:17:34.284052-05:00",
    "updated_at": "2025-10-13T22:17:34.284052-05:00"
  },
  {
    "id": "voice-code-37",
    "title": "Add loading indicators",
    "description": "",
    "status": "open",
    "priority": 1,
    "issue_type": "task",
    "created_at": "2025-10-13T22:17:34.279687-05:00",
    "updated_at": "2025-10-13T22:17:34.279687-05:00"
  },
  {
    "id": "voice-code-36",
    "title": "Improve error messages",
    "description": "",
    "status": "open",
    "priority": 1,
    "issue_type": "task",
    "created_at": "2025-10-13T22:17:34.274864-05:00",
    "updated_at": "2025-10-13T22:17:34.274864-05:00"
  },
  {
    "id": "voice-code-35",
    "title": "Fix issues discovered in integration testing",
    "description": "",
    "status": "open",
    "priority": 1,
    "issue_type": "task",
    "created_at": "2025-10-13T22:17:34.269909-05:00",
    "updated_at": "2025-10-13T22:17:34.269909-05:00"
  },
  {
    "id": "voice-code-71",
    "title": "Documentation: Reconnection protocol \u0026 troubleshooting",
    "description": "Document reconnection protocol in DESIGN.md. Add troubleshooting guide for common issues. Document message format and sequencing. Update README with session persistence features. Add examples for testing reconnection.",
    "status": "open",
    "priority": 2,
    "issue_type": "chore",
    "created_at": "2025-10-15T07:59:06.484747-05:00",
    "updated_at": "2025-10-15T07:59:06.484747-05:00"
  },
  {
    "id": "voice-code-70",
    "title": "Backend: Clean up undelivered queue",
    "description": "Compress old messages (\u003e 7 days). Implement message retention limits (max messages per session). Add storage metrics/monitoring. Optimize EDN file format. Add incremental saves for large sessions.",
    "notes": "Periodically clean up very old undelivered messages (\u003e7 days). These indicate iOS never reconnected. Archive or delete based on policy. Much simpler than original plan since we're not storing full history.",
    "status": "open",
    "priority": 2,
    "issue_type": "chore",
    "created_at": "2025-10-15T07:59:04.112404-05:00",
    "updated_at": "2025-10-15T09:37:24.978845-05:00"
  },
  {
    "id": "voice-code-69",
    "title": "iOS: Add sync status indicators",
    "description": "Show sync state in UI (synced/syncing/offline). Display pending message count. Show reconnection attempts. Add visual feedback for message delivery status. Update connection indicator with more detail.",
    "status": "open",
    "priority": 2,
    "issue_type": "feature",
    "created_at": "2025-10-15T07:59:02.360129-05:00",
    "updated_at": "2025-10-15T07:59:02.360129-05:00"
  },
  {
    "id": "voice-code-68",
    "title": "Backend: Add session cleanup job",
    "description": "Background task to remove sessions inactive \u003e 30 days. Run cleanup on startup and periodically (daily). Archive old session data before deletion. Add configurable retention policy. Log cleanup actions for monitoring.",
    "status": "open",
    "priority": 2,
    "issue_type": "chore",
    "created_at": "2025-10-15T07:59:00.4833-05:00",
    "updated_at": "2025-10-15T07:59:00.4833-05:00"
  },
  {
    "id": "voice-code-49",
    "title": "Exclude code blocks from text-to-speech",
    "description": "Code blocks should be visible in the markdown display but not read aloud. Code is important to see but terrible to hear spoken.",
    "status": "open",
    "priority": 2,
    "issue_type": "feature",
    "created_at": "2025-10-14T21:30:59.411847-05:00",
    "updated_at": "2025-10-14T21:30:59.411847-05:00"
  },
  {
    "id": "voice-code-48",
    "title": "Improve markdown rendering for Claude Code responses",
    "description": "Better render markdown when showing responses from Claude Code for improved readability and proper formatting",
    "status": "open",
    "priority": 2,
    "issue_type": "feature",
    "created_at": "2025-10-14T21:30:58.528479-05:00",
    "updated_at": "2025-10-14T21:30:58.528479-05:00"
  },
  {
    "id": "voice-code-44",
    "title": "Tag v0.1.0 release",
    "description": "",
    "status": "open",
    "priority": 2,
    "issue_type": "task",
    "created_at": "2025-10-13T22:17:34.31028-05:00",
    "updated_at": "2025-10-13T22:17:34.31028-05:00"
  },
  {
    "id": "voice-code-43",
    "title": "Record demo video",
    "description": "",
    "status": "open",
    "priority": 2,
    "issue_type": "task",
    "created_at": "2025-10-13T22:17:34.305688-05:00",
    "updated_at": "2025-10-13T22:17:34.305688-05:00"
  },
  {
    "id": "voice-code-42",
    "title": "Create troubleshooting guide",
    "description": "",
    "status": "open",
    "priority": 2,
    "issue_type": "task",
    "created_at": "2025-10-13T22:17:34.301634-05:00",
    "updated_at": "2025-10-13T22:17:34.301634-05:00"
  },
  {
    "id": "voice-code-41",
    "title": "Document known limitations",
    "description": "",
    "status": "open",
    "priority": 2,
    "issue_type": "task",
    "created_at": "2025-10-13T22:17:34.297043-05:00",
    "updated_at": "2025-10-13T22:17:34.297043-05:00"
  },
  {
    "id": "voice-code-40",
    "title": "Write setup instructions",
    "description": "",
    "status": "open",
    "priority": 2,
    "issue_type": "task",
    "created_at": "2025-10-13T22:17:34.292499-05:00",
    "updated_at": "2025-10-13T22:17:34.292499-05:00"
  },
  {
    "id": "voice-code-29",
    "title": "Test session persistence across app restarts",
    "description": "",
    "status": "open",
    "priority": 2,
    "issue_type": "task",
    "assignee": "ios",
    "created_at": "2025-10-13T22:17:01.769031-05:00",
    "updated_at": "2025-10-13T22:17:01.769031-05:00"
  },
  {
    "id": "voice-code-13",
    "title": "Fix backend issues discovered in testing",
    "description": "",
    "status": "open",
    "priority": 2,
    "issue_type": "task",
    "assignee": "backend",
    "created_at": "2025-10-13T22:16:35.397618-05:00",
    "updated_at": "2025-10-13T22:16:35.397618-05:00"
  }
]
